//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// The
    /// `SHSignature`class is an opaque data container that can be used to store recognition data.
    ///
    /// Signatures are a compact lossy representation of the original audio. The original audio cannot
    /// be recreated from a Signature, there exists only enough data to confirm that the signature matches a certain piece of audio
    /// when it is also converted into a Signature. It is similar in utility to a hashing function.
    ///
    /// Signatures can be matched against any type of audio not just music. The only requirement for a match is that the reference and query
    /// Signatures both contain the exact same pre recorded audio e.g. a live rendition of a song will not match against a studio recorded performance
    /// of the same piece.
    ///
    /// There are exceptions to the requirement for exactly matching audio, a signature is robust against slight changes in frequency and speed.
    ///
    ///
    /// Note: `SHSignature`is not intended to be subclassed
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/shazamkit/shsignature?language=objc)
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct SHSignature;
);

unsafe impl Send for SHSignature {}

unsafe impl Sync for SHSignature {}

unsafe impl NSCoding for SHSignature {}

unsafe impl NSCopying for SHSignature {}

unsafe impl CopyingHelper for SHSignature {
    type Result = Self;
}

unsafe impl NSObjectProtocol for SHSignature {}

unsafe impl NSSecureCoding for SHSignature {}

impl SHSignature {
    extern_methods!(
        /// The duration of the input audio that this signature is derived from
        ///
        ///
        /// The duration may not match the source audio duration exactly, audio that contains portions of silence may
        /// report shorter durations
        #[unsafe(method(duration))]
        #[unsafe(method_family = none)]
        pub unsafe fn duration(&self) -> NSTimeInterval;

        /// The raw data that comprises this signature, this is not audio data
        #[unsafe(method(dataRepresentation))]
        #[unsafe(method_family = none)]
        pub unsafe fn dataRepresentation(&self) -> Retained<NSData>;

        /// Create a Signature from Signature data
        ///
        /// Parameter `dataRepresentation`: Signature data generated by Shazam, this is not raw audio data
        ///
        /// Parameter `error`: Error if the data was invalid
        ///
        /// Returns: A signature if the data contained a valid signature, nil otherwise
        #[unsafe(method(signatureWithDataRepresentation:error:_))]
        #[unsafe(method_family = none)]
        pub unsafe fn signatureWithDataRepresentation_error(
            data_representation: &NSData,
        ) -> Result<Retained<SHSignature>, Retained<NSError>>;

        /// Create a Signature from Signature data
        ///
        /// Parameter `dataRepresentation`: Signature data generated by Shazam, this is not raw audio data
        ///
        /// Parameter `error`: Error if the data was invalid
        ///
        /// Returns: A signature if the data contained a valid signature, nil otherwise
        #[unsafe(method(initWithDataRepresentation:error:_))]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithDataRepresentation_error(
            this: Allocated<Self>,
            data_representation: &NSData,
        ) -> Result<Retained<Self>, Retained<NSError>>;
    );
}

/// Methods declared on superclass `NSObject`.
impl SHSignature {
    extern_methods!(
        #[unsafe(method(init))]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[unsafe(method(new))]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    );
}
