//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// CLSActivity represents user generated activity data for a given context.
    ///
    /// CLSActivity has three major components.
    ///
    /// (1) Progress, used to measure the amount of activity a user generates as a percentage.
    /// (2) Duration, used to measure the length of time a user spent on this activity. Use
    /// `-start`and
    /// `-stop`methods.
    /// (3) Activity Items, used to gather information about the activity generated by a user.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/classkit/clsactivity?language=objc)
    #[unsafe(super(CLSObject, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "CLSObject")]
    pub struct CLSActivity;
);

#[cfg(feature = "CLSObject")]
unsafe impl NSCoding for CLSActivity {}

#[cfg(feature = "CLSObject")]
unsafe impl NSObjectProtocol for CLSActivity {}

#[cfg(feature = "CLSObject")]
unsafe impl NSSecureCoding for CLSActivity {}

extern_methods!(
    #[cfg(feature = "CLSObject")]
    unsafe impl CLSActivity {
        /// Current progress as a decimal representation of a percentage.
        ///
        /// Should be [0.0, 1.0].
        #[method(progress)]
        pub unsafe fn progress(&self) -> c_double;

        /// Setter for [`progress`][Self::progress].
        #[method(setProgress:)]
        pub unsafe fn setProgress(&self, progress: c_double);

        /// Returns the total time tracked in this activity (excluding any previous activities).
        ///
        /// The time between calling
        /// `-start`and
        /// `-stop.`
        #[method(duration)]
        pub unsafe fn duration(&self) -> NSTimeInterval;

        #[cfg(feature = "CLSActivityItem")]
        /// The primary activityItem to be reported on.
        ///
        /// This can be nil indicating
        /// `progress`property is the primary data instead of any activityItems.
        #[method_id(primaryActivityItem)]
        #[unsafe(method_family = none)]
        pub unsafe fn primaryActivityItem(&self) -> Option<Retained<CLSActivityItem>>;

        #[cfg(feature = "CLSActivityItem")]
        /// Setter for [`primaryActivityItem`][Self::primaryActivityItem].
        #[method(setPrimaryActivityItem:)]
        pub unsafe fn setPrimaryActivityItem(
            &self,
            primary_activity_item: Option<&CLSActivityItem>,
        );

        /// Adds progress to this activity.
        ///
        /// The progress should be a decimal representation of the start and ending percentage [0.0, 1.0].
        ///
        /// Parameter `start`: Starting percentage.
        ///
        /// Parameter `end`: Ending percentage.
        #[method(addProgressRangeFromStart:toEnd:)]
        pub unsafe fn addProgressRangeFromStart_toEnd(&self, start: c_double, end: c_double);

        #[cfg(feature = "CLSActivityItem")]
        /// Add an activity item to this CLSActivity.
        #[method(addAdditionalActivityItem:)]
        pub unsafe fn addAdditionalActivityItem(&self, activity_item: &CLSActivityItem);

        #[cfg(feature = "CLSActivityItem")]
        /// Array of all additional activity items on this CLSActivity.
        #[method_id(additionalActivityItems)]
        #[unsafe(method_family = none)]
        pub unsafe fn additionalActivityItems(&self) -> Retained<NSArray<CLSActivityItem>>;
    }
);

extern_methods!(
    /// Methods declared on superclass `CLSObject`
    #[cfg(feature = "CLSObject")]
    unsafe impl CLSActivity {
        #[method_id(new)]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;

        #[method_id(init)]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;
    }
);

extern_methods!(
    /// Activation
    #[cfg(feature = "CLSObject")]
    unsafe impl CLSActivity {
        /// Returns whether this Activity has been started or not.
        #[method(isStarted)]
        pub unsafe fn isStarted(&self) -> bool;

        /// Start Activity.
        ///
        /// Starts the activity (or resumes if previously stopped).
        #[method(start)]
        pub unsafe fn start(&self);

        /// Stop Activity.
        ///
        /// Stops or pauses the activity and ends the time being tracked on it.
        #[method(stop)]
        pub unsafe fn stop(&self);

        /// Deletes all activity items.
        ///
        /// Convenience method to delete all activity items associated with the current activity.
        #[method(removeAllActivityItems)]
        pub unsafe fn removeAllActivityItems(&self);
    }
);

extern_methods!(
    /// Activity
    #[cfg(all(feature = "CLSContext", feature = "CLSObject"))]
    unsafe impl CLSContext {
        /// Returns the current activity.
        ///
        /// Activity associated with a context.  If no activity was ever created this is nil. See:
        /// `-[CLSContext`createNewActivity]; for more details.
        #[method_id(currentActivity)]
        #[unsafe(method_family = none)]
        pub unsafe fn currentActivity(&self) -> Option<Retained<CLSActivity>>;

        /// Creates a new activity
        ///
        /// Creates a new activity and sets it as the current activity.
        #[method_id(createNewActivity)]
        #[unsafe(method_family = none)]
        pub unsafe fn createNewActivity(&self) -> Retained<CLSActivity>;
    }
);
