//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::cell::UnsafeCell;
use core::ffi::*;
use core::marker::{PhantomData, PhantomPinned};
use core::ptr::NonNull;
#[cfg(feature = "objc2")]
use objc2::__framework_prelude::*;
use objc2_core_foundation::*;
#[cfg(feature = "objc2-core-graphics")]
use objc2_core_graphics::*;

use crate::*;

/// This is the type of a reference to Thumbnail requests.
///
/// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/qlthumbnailrequest?language=objc)
#[repr(C)]
pub struct QLThumbnailRequest {
    inner: [u8; 0],
    _p: UnsafeCell<PhantomData<(*const UnsafeCell<()>, PhantomPinned)>>,
}

cf_type!(
    #[encoding_name = "__QLThumbnailRequest"]
    unsafe impl QLThumbnailRequest {}
);

unsafe impl ConcreteType for QLThumbnailRequest {
    /// Returns the CoreFoundation type ID for QLThumbnailRequests.
    #[doc(alias = "QLThumbnailRequestGetTypeID")]
    #[inline]
    fn type_id() -> CFTypeID {
        extern "C-unwind" {
            fn QLThumbnailRequestGetTypeID() -> CFTypeID;
        }
        unsafe { QLThumbnailRequestGetTypeID() }
    }
}

/// Returns the url of the file for the thumbnail request.
///
/// Parameter `thumbnail`: The thumbnail request.
///
/// Returns: The url of the file for the thumbnail request.
#[deprecated = "Use a QLFileThumbnailRequest in a Thumbnail Extension to provide thumbnails for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLThumbnailRequestCopyURL(
    thumbnail: &QLThumbnailRequest,
) -> Option<CFRetained<CFURL>> {
    extern "C-unwind" {
        fn QLThumbnailRequestCopyURL(thumbnail: &QLThumbnailRequest) -> Option<NonNull<CFURL>>;
    }
    let ret = unsafe { QLThumbnailRequestCopyURL(thumbnail) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

/// Returns the desired options for the thumbnail request.
///
/// Parameter `thumbnail`: The thumbnail request.
///
/// Returns: The desired options for the thumbnail request.
#[deprecated = "Use a QLFileThumbnailRequest in a Thumbnail Extension to provide thumbnails for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLThumbnailRequestCopyOptions(
    thumbnail: &QLThumbnailRequest,
) -> Option<CFRetained<CFDictionary>> {
    extern "C-unwind" {
        fn QLThumbnailRequestCopyOptions(
            thumbnail: &QLThumbnailRequest,
        ) -> Option<NonNull<CFDictionary>>;
    }
    let ret = unsafe { QLThumbnailRequestCopyOptions(thumbnail) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

/// Returns the UTI for the thumbnail request.
///
/// Parameter `thumbnail`: The thumbnail request.
///
/// Returns: The UTI of the content being thumbnailed, NULL if not available.
#[deprecated = "Use a QLFileThumbnailRequest in a Thumbnail Extension to provide thumbnails for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLThumbnailRequestCopyContentUTI(
    thumbnail: &QLThumbnailRequest,
) -> Option<CFRetained<CFString>> {
    extern "C-unwind" {
        fn QLThumbnailRequestCopyContentUTI(
            thumbnail: &QLThumbnailRequest,
        ) -> Option<NonNull<CFString>>;
    }
    let ret = unsafe { QLThumbnailRequestCopyContentUTI(thumbnail) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

extern "C-unwind" {
    /// Returns the maximum desired size (in points) for the thumbnail request.
    ///
    /// Parameter `thumbnail`: The thumbnail request.
    ///
    /// Returns: The maximum desired size (in points) for the thumbnail request.
    #[deprecated = "Use a QLFileThumbnailRequest in a Thumbnail Extension to provide thumbnails for your file types."]
    pub fn QLThumbnailRequestGetMaximumSize(thumbnail: &QLThumbnailRequest) -> CGSize;
}

/// Get the thumbnail request generator bundle.
///
/// Parameter `thumbnail`: The thumbnail request.
#[deprecated = "Use a QLFileThumbnailRequest in a Thumbnail Extension to provide thumbnails for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLThumbnailRequestGetGeneratorBundle(
    thumbnail: &QLThumbnailRequest,
) -> Option<CFRetained<CFBundle>> {
    extern "C-unwind" {
        fn QLThumbnailRequestGetGeneratorBundle(
            thumbnail: &QLThumbnailRequest,
        ) -> Option<NonNull<CFBundle>>;
    }
    let ret = unsafe { QLThumbnailRequestGetGeneratorBundle(thumbnail) };
    ret.map(|ret| unsafe { CFRetained::retain(ret) })
}

extern "C-unwind" {
    /// Store some object in thumbnail request.
    ///
    /// Parameter `thumbnail`: The thumbnail request.
    ///
    /// Parameter `object`: The object representing the document
    ///
    /// Parameter `callbacks`: Callbacks to retain/release/etc. the object.
    ///
    /// You can only call this function once per request.
    #[deprecated = "Use a QLFileThumbnailRequest in a Thumbnail Extension to provide thumbnails for your file types."]
    pub fn QLThumbnailRequestSetDocumentObject(
        thumbnail: &QLThumbnailRequest,
        object: *const c_void,
        callbacks: *const CFArrayCallBacks,
    );
}

extern "C-unwind" {
    /// Get the object previously stored with QLThumbnailRequestSetDocumentObject.
    ///
    /// Parameter `thumbnail`: The thumbnail request.
    ///
    /// Returns: The object representing the document
    #[deprecated = "Use a QLFileThumbnailRequest in a Thumbnail Extension to provide thumbnails for your file types."]
    pub fn QLThumbnailRequestGetDocumentObject(thumbnail: &QLThumbnailRequest) -> *const c_void;
}

extern "C-unwind" {
    /// Sets the thumbnail request response to image.
    ///
    /// Parameter `thumbnail`: The thumbnail request.
    ///
    /// Parameter `image`: The thumbnail image response.
    ///
    /// Parameter `properties`: See possible properties below.
    #[cfg(feature = "objc2-core-graphics")]
    #[deprecated = "Use a QLThumbnailReply in a Thumbnail Extension to provide thumbnails for your file types"]
    pub fn QLThumbnailRequestSetImage(
        thumbnail: &QLThumbnailRequest,
        image: Option<&CGImage>,
        properties: Option<&CFDictionary>,
    );
}

extern "C-unwind" {
    /// Sets the thumbnail request response to image data.
    ///
    /// Parameter `thumbnail`: The thumbnail request.
    ///
    /// Parameter `data`: The thumbnail image response as data. The image format should be supported by ImageIO
    ///
    /// Parameter `properties`: See possible properties below. Additional useful properties: kCGImageSourceTypeIdentifierHint (see ImageIO documentation).
    #[deprecated = "Use a QLThumbnailReply in a Thumbnail Extension to provide thumbnails for your file types."]
    pub fn QLThumbnailRequestSetImageWithData(
        thumbnail: &QLThumbnailRequest,
        data: Option<&CFData>,
        properties: Option<&CFDictionary>,
    );
}

/// Creates a graphic context to draw the thumbnail response in.
///
/// Parameter `thumbnail`: The thumbnail request.
///
/// Parameter `size`: Size in points of the context for the thumbnail response.
///
/// Parameter `isBitmap`: True if thumbnail contents is based on bitmap. size will then be interpreted as pixels, not points.
///
/// Parameter `properties`: See possible properties below.
///
/// Returns: A graphic context to draw to.
///
/// Once the thumbnail is fully drawn, you should call QLThumbnailRequestFlushContext().
#[cfg(feature = "objc2-core-graphics")]
#[deprecated = "Use a QLThumbnailReply in a Thumbnail Extension to provide thumbnails for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLThumbnailRequestCreateContext(
    thumbnail: &QLThumbnailRequest,
    size: CGSize,
    is_bitmap: bool,
    properties: Option<&CFDictionary>,
) -> Option<CFRetained<CGContext>> {
    extern "C-unwind" {
        fn QLThumbnailRequestCreateContext(
            thumbnail: &QLThumbnailRequest,
            size: CGSize,
            is_bitmap: Boolean,
            properties: Option<&CFDictionary>,
        ) -> Option<NonNull<CGContext>>;
    }
    let ret =
        unsafe { QLThumbnailRequestCreateContext(thumbnail, size, is_bitmap as _, properties) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

extern "C-unwind" {
    /// Flushes the graphic context and creates the thumbnail image response.
    ///
    /// Parameter `thumbnail`: The thumbnail request.
    ///
    /// Parameter `context`: The graphic context created by QLThumbnailRequestCreateContext().
    #[cfg(feature = "objc2-core-graphics")]
    #[deprecated = "Use a QLThumbnailReply in a Thumbnail Extension to provide thumbnails for your file types."]
    pub fn QLThumbnailRequestFlushContext(
        thumbnail: &QLThumbnailRequest,
        context: Option<&CGContext>,
    );
}

extern "C-unwind" {
    /// Sets the thumbnail request response to the image contained at url.
    ///
    /// Parameter `thumbnail`: The thumbnail request.
    ///
    /// Parameter `url`: The url to the thumbnail image response.
    ///
    /// Parameter `properties`: Currently unused.
    #[deprecated = "Use a QLThumbnailReply in a Thumbnail Extension to provide thumbnails for your file types."]
    pub fn QLThumbnailRequestSetImageAtURL(
        thumbnail: &QLThumbnailRequest,
        url: Option<&CFURL>,
        properties: Option<&CFDictionary>,
    );
}

extern "C-unwind" {
    /// Sets the thumbnail request response to the image produced by the equivalent preview representation.
    ///
    /// Parameter `thumbnail`: The thumbnail request.
    ///
    /// Parameter `data`: The content data.
    ///
    /// Parameter `contentTypeUTI`: The contentTypeUTI for the preview representation.
    ///
    /// Parameter `previewProperties`: Additional properties for the preview response.
    ///
    /// Parameter `properties`: Currently unused.
    ///
    /// Currently supported UTIs are: none. This call only works if your generator is set to be run in the main thread
    #[deprecated = "Use a QLThumbnailReply in a Thumbnail Extension to provide thumbnails for your file types."]
    pub fn QLThumbnailRequestSetThumbnailWithDataRepresentation(
        thumbnail: &QLThumbnailRequest,
        data: Option<&CFData>,
        content_type_uti: Option<&CFString>,
        preview_properties: Option<&CFDictionary>,
        properties: Option<&CFDictionary>,
    );
}

extern "C-unwind" {
    /// Sets the thumbnail request response to the image produced by the equivalent preview representation.
    ///
    /// Parameter `thumbnail`: The thumbnail request.
    ///
    /// Parameter `url`: The url to the preview response.
    ///
    /// Parameter `contentTypeUTI`: The contentTypeUTI for the preview representation.
    ///
    /// Parameter `properties`: Additional properties for the preview response.
    ///
    /// Currently supported UTIs are: none. This call only works if your generator is set to be run in the main thread
    #[deprecated = "Use a QLThumbnailReply in a Thumbnail Extension to provide thumbnails for your file types."]
    pub fn QLThumbnailRequestSetThumbnailWithURLRepresentation(
        thumbnail: &QLThumbnailRequest,
        url: Option<&CFURL>,
        content_type_uti: Option<&CFString>,
        preview_properties: Option<&CFDictionary>,
        properties: Option<&CFDictionary>,
    );
}

/// Returns wether the thumbnail request was cancelled or not.
///
/// Parameter `thumbnail`: The thumbnail request.
///
/// Returns: true if the request was cancelled.
#[deprecated = "Use a QLFileThumbnailRequest in a Thumbnail Extension to provide thumbnails for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLThumbnailRequestIsCancelled(
    thumbnail: &QLThumbnailRequest,
) -> bool {
    extern "C-unwind" {
        fn QLThumbnailRequestIsCancelled(thumbnail: &QLThumbnailRequest) -> Boolean;
    }
    let ret = unsafe { QLThumbnailRequestIsCancelled(thumbnail) };
    ret != 0
}

extern "C" {
    /// Value should be a CFString. The extension is used as a badge when producing an icon.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlthumbnailpropertyextensionkey?language=objc)
    pub static kQLThumbnailPropertyExtensionKey: Option<&'static CFString>;
}

extern "C" {
    /// Value should be a CGImage. The badge is used when producing an icon.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlthumbnailpropertybadgeimagekey?language=objc)
    pub static kQLThumbnailPropertyBadgeImageKey: Option<&'static CFString>;
}

extern "C" {
    /// Extends the security scope where Quick Look will accept to look at a file. Value is a path as CFString.
    ///
    /// Only useful when using QLThumbnailRequestSetImageAtURL() or QLThumbnailRequestSetThumbnailWithURLRepresentation().
    /// By default, Quick Look will only accept files within the current document bundle.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlthumbnailpropertybasebundlepathkey?language=objc)
    pub static kQLThumbnailPropertyBaseBundlePathKey: Option<&'static CFString>;
}

/// This is the type of a reference to Preview requests.
///
/// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/qlpreviewrequest?language=objc)
#[repr(C)]
pub struct QLPreviewRequest {
    inner: [u8; 0],
    _p: UnsafeCell<PhantomData<(*const UnsafeCell<()>, PhantomPinned)>>,
}

cf_type!(
    #[encoding_name = "__QLPreviewRequest"]
    unsafe impl QLPreviewRequest {}
);

unsafe impl ConcreteType for QLPreviewRequest {
    /// Returns the CoreFoundation type ID for QLPreviewRequests.
    #[doc(alias = "QLPreviewRequestGetTypeID")]
    #[inline]
    fn type_id() -> CFTypeID {
        extern "C-unwind" {
            fn QLPreviewRequestGetTypeID() -> CFTypeID;
        }
        unsafe { QLPreviewRequestGetTypeID() }
    }
}

extern "C" {
    /// Customizes Displayed name in the preview panel. This replaces the document's display name. Value is a CFString.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertydisplaynamekey?language=objc)
    pub static kQLPreviewPropertyDisplayNameKey: Option<&'static CFString>;
}

extern "C" {
    /// Gives the width (in points) of the preview. Value is a CFNumber.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertywidthkey?language=objc)
    pub static kQLPreviewPropertyWidthKey: Option<&'static CFString>;
}

extern "C" {
    /// Gives the height (in points) of the preview. Value is a CFNumber.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertyheightkey?language=objc)
    pub static kQLPreviewPropertyHeightKey: Option<&'static CFString>;
}

extern "C" {
    /// Extends the security scope where Quick Look will accept to look at a file. Value is a path as CFString.
    ///
    /// Only useful when using QLPreviewRequestSetURLRepresentation().
    /// By default, Quick Look will only accept files within the current document bundle.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertybasebundlepathkey?language=objc)
    pub static kQLPreviewPropertyBaseBundlePathKey: Option<&'static CFString>;
}

extern "C" {
    /// Gives the CFStringEncoding of the preview data if the preview type is plain text. Value is a CFNumber.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertystringencodingkey?language=objc)
    pub static kQLPreviewPropertyStringEncodingKey: Option<&'static CFString>;
}

/// [Apple's documentation](https://developer.apple.com/documentation/quicklook/qlpreviewpdfstyle?language=objc)
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct QLPreviewPDFStyle(pub c_uint);
impl QLPreviewPDFStyle {
    #[doc(alias = "kQLPreviewPDFStandardStyle")]
    pub const StandardStyle: Self = Self(0);
    #[doc(alias = "kQLPreviewPDFPagesWithThumbnailsOnRightStyle")]
    pub const PagesWithThumbnailsOnRightStyle: Self = Self(3);
    #[doc(alias = "kQLPreviewPDFPagesWithThumbnailsOnLeftStyle")]
    pub const PagesWithThumbnailsOnLeftStyle: Self = Self(4);
}

#[cfg(feature = "objc2")]
unsafe impl Encode for QLPreviewPDFStyle {
    const ENCODING: Encoding = c_uint::ENCODING;
}

#[cfg(feature = "objc2")]
unsafe impl RefEncode for QLPreviewPDFStyle {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern "C" {
    /// Specify the preferred way to display PDF content. Value is a CFNumber using QLPreviewPDFStyle values.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertypdfstylekey?language=objc)
    pub static kQLPreviewPropertyPDFStyleKey: Option<&'static CFString>;
}

extern "C" {
    /// Value is the same CFNumber passed by potential previous calls to generator's preview callback for the same document with kQLPreviewPropertyCursorKey.
    ///
    /// Use this value to provide more of the preview content.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewoptioncursorkey?language=objc)
    pub static kQLPreviewOptionCursorKey: Option<&'static CFString>;
}

extern "C" {
    /// Value should be a CFNumber. This value will be used to get more of the document's preview if necessary
    /// (and if the preview genererator returns kQLReturnHasMore)
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertycursorkey?language=objc)
    pub static kQLPreviewPropertyCursorKey: Option<&'static CFString>;
}

/// Returns the url of the file for the preview request.
///
/// Parameter `preview`: The preview request.
///
/// Returns: The url of the file for the preview request.
#[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLPreviewRequestCopyURL(
    preview: &QLPreviewRequest,
) -> Option<CFRetained<CFURL>> {
    extern "C-unwind" {
        fn QLPreviewRequestCopyURL(preview: &QLPreviewRequest) -> Option<NonNull<CFURL>>;
    }
    let ret = unsafe { QLPreviewRequestCopyURL(preview) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

/// Returns the desired options for the preview request.
///
/// Parameter `preview`: The preview request.
///
/// Returns: The desired options for the preview request.
#[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLPreviewRequestCopyOptions(
    preview: &QLPreviewRequest,
) -> Option<CFRetained<CFDictionary>> {
    extern "C-unwind" {
        fn QLPreviewRequestCopyOptions(preview: &QLPreviewRequest)
            -> Option<NonNull<CFDictionary>>;
    }
    let ret = unsafe { QLPreviewRequestCopyOptions(preview) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

/// Returns the UTI for the preview request.
///
/// Parameter `preview`: The preview request.
///
/// Returns: The UTI of the content being previewed, NULL if not available.
#[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLPreviewRequestCopyContentUTI(
    preview: &QLPreviewRequest,
) -> Option<CFRetained<CFString>> {
    extern "C-unwind" {
        fn QLPreviewRequestCopyContentUTI(preview: &QLPreviewRequest) -> Option<NonNull<CFString>>;
    }
    let ret = unsafe { QLPreviewRequestCopyContentUTI(preview) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

/// Gets the preview request generator bundle.
///
/// Parameter `preview`: The preview request.
#[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLPreviewRequestGetGeneratorBundle(
    preview: &QLPreviewRequest,
) -> Option<CFRetained<CFBundle>> {
    extern "C-unwind" {
        fn QLPreviewRequestGetGeneratorBundle(
            preview: &QLPreviewRequest,
        ) -> Option<NonNull<CFBundle>>;
    }
    let ret = unsafe { QLPreviewRequestGetGeneratorBundle(preview) };
    ret.map(|ret| unsafe { CFRetained::retain(ret) })
}

extern "C-unwind" {
    /// Store some object in preview request.
    ///
    /// Parameter `preview`: The preview request.
    ///
    /// Parameter `object`: The object representing the document
    ///
    /// Parameter `callbacks`: Callbacks to retain/release/etc. the object.
    ///
    /// You can only call this function once per request.
    #[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
    pub fn QLPreviewRequestSetDocumentObject(
        preview: &QLPreviewRequest,
        object: *const c_void,
        callbacks: *const CFArrayCallBacks,
    );
}

extern "C-unwind" {
    /// Get the object previously stored with QLPreviewRequestSetDocumentObject.
    ///
    /// Parameter `preview`: The preview request.
    ///
    /// Returns: The object representing the document
    #[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
    pub fn QLPreviewRequestGetDocumentObject(preview: &QLPreviewRequest) -> *const c_void;
}

/// Returns wether the preview request was cancelled or not.
///
/// Parameter `preview`: The preview request.
///
/// Returns: true if the request was cancelled.
#[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLPreviewRequestIsCancelled(preview: &QLPreviewRequest) -> bool {
    extern "C-unwind" {
        fn QLPreviewRequestIsCancelled(preview: &QLPreviewRequest) -> Boolean;
    }
    let ret = unsafe { QLPreviewRequestIsCancelled(preview) };
    ret != 0
}

extern "C-unwind" {
    /// Sets the preview response with the provided data.
    ///
    /// Parameter `preview`: The preview request.
    ///
    /// Parameter `data`: The content data.
    ///
    /// Parameter `contentTypeUTI`: The contentTypeUTI for the preview representation.
    ///
    /// Parameter `properties`: Additional properties for the preview response.
    ///
    /// Currently supported UTIs are: kUTTypeImage, kUTTypePDF, kUTTypeHTML,
    /// kUTTypeXML, kUTTypePlainText, kUTTypeRTF, kUTTypeMovie, kUTTypeAudio,
    /// and "org.khronos.collada.digital-asset-exchange" (from OSX 10.9)
    #[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
    pub fn QLPreviewRequestSetDataRepresentation(
        preview: &QLPreviewRequest,
        data: Option<&CFData>,
        content_type_uti: Option<&CFString>,
        properties: Option<&CFDictionary>,
    );
}

extern "C-unwind" {
    /// Sets the preview request response with contents at url.
    ///
    /// Parameter `preview`: The preview request.
    ///
    /// Parameter `url`: The url to the preview response.
    ///
    /// Parameter `contentTypeUTI`: The contentTypeUTI for the preview representation.
    ///
    /// Parameter `properties`: Additional properties for the preview response.
    ///
    /// Currently supported UTIs are: kUTTypeImage, kUTTypePDF, kUTTypeHTML,
    /// kUTTypeXML, kUTTypePlainText, kUTTypeRTF, kUTTypeRTFD, kUTTypeMovie, kUTTypeAudio,
    /// and "org.khronos.collada.digital-asset-exchange" (from OSX 10.9)
    #[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
    pub fn QLPreviewRequestSetURLRepresentation(
        preview: &QLPreviewRequest,
        url: Option<&CFURL>,
        content_type_uti: Option<&CFString>,
        properties: Option<&CFDictionary>,
    );
}

/// Creates a context to draw the preview in. Context should be flushed with QLPreviewRequestFlushContext()
///
/// Parameter `preview`: The preview request.
///
/// Parameter `size`: The size of the context.
///
/// Parameter `isBitmap`: true if preview is bitmap-based.
///
/// Parameter `properties`: Additional properties for the preview response.
#[cfg(feature = "objc2-core-graphics")]
#[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLPreviewRequestCreateContext(
    preview: &QLPreviewRequest,
    size: CGSize,
    is_bitmap: bool,
    properties: Option<&CFDictionary>,
) -> Option<CFRetained<CGContext>> {
    extern "C-unwind" {
        fn QLPreviewRequestCreateContext(
            preview: &QLPreviewRequest,
            size: CGSize,
            is_bitmap: Boolean,
            properties: Option<&CFDictionary>,
        ) -> Option<NonNull<CGContext>>;
    }
    let ret = unsafe { QLPreviewRequestCreateContext(preview, size, is_bitmap as _, properties) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

/// Creates a PDF context to draw the preview in, likely to be multi-pages. Context should be flushed with QLPreviewRequestFlushContext()
///
/// Parameter `preview`: The preview request.
///
/// Parameter `mediaBox`: The media box of the context. see CGPDFContextCreate().
///
/// Parameter `auxiliaryInfo`: The PDF auxiliary info. see CGPDFContextCreate().
///
/// Parameter `properties`: Additional properties for the preview response.
#[cfg(feature = "objc2-core-graphics")]
#[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
#[inline]
pub unsafe extern "C-unwind" fn QLPreviewRequestCreatePDFContext(
    preview: &QLPreviewRequest,
    media_box: *const CGRect,
    auxiliary_info: Option<&CFDictionary>,
    properties: Option<&CFDictionary>,
) -> Option<CFRetained<CGContext>> {
    extern "C-unwind" {
        fn QLPreviewRequestCreatePDFContext(
            preview: &QLPreviewRequest,
            media_box: *const CGRect,
            auxiliary_info: Option<&CFDictionary>,
            properties: Option<&CFDictionary>,
        ) -> Option<NonNull<CGContext>>;
    }
    let ret =
        unsafe { QLPreviewRequestCreatePDFContext(preview, media_box, auxiliary_info, properties) };
    ret.map(|ret| unsafe { CFRetained::from_raw(ret) })
}

extern "C-unwind" {
    /// Flush the context and sets the preview response.
    ///
    /// Parameter `preview`: The preview request.
    ///
    /// Parameter `context`: context previously created by QLPreviewRequestCreateContext() or QLPreviewRequestCreatePDFContext().
    #[cfg(feature = "objc2-core-graphics")]
    #[deprecated = "Use a QLPreviewingController in a Preview Extension to provide previews for your file types."]
    pub fn QLPreviewRequestFlushContext(preview: &QLPreviewRequest, context: Option<&CGContext>);
}

extern "C" {
    /// Gives the web content or attachment mime type. For the main data, default is text/html. Value is a CFString.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertymimetypekey?language=objc)
    pub static kQLPreviewPropertyMIMETypeKey: Option<&'static CFString>;
}

extern "C" {
    /// Gives the web content or attachment text encoding. Use IANA encodings like UTF-8. Value is a CFString.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertytextencodingnamekey?language=objc)
    pub static kQLPreviewPropertyTextEncodingNameKey: Option<&'static CFString>;
}

extern "C" {
    /// Gives the attachment data. Value is a CFData.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertyattachmentdatakey?language=objc)
    pub static kQLPreviewPropertyAttachmentDataKey: Option<&'static CFString>;
}

extern "C" {
    /// Gives the list of attachments (or sub-resources). Value is a CFDictionary.
    ///
    /// Keys are the attachment ids (CFStringRef) that can be referenced with "cid:id" URL and
    /// Values are dictionaries using kQLPreviewPropertyAttachmentDataKey,
    /// kQLPreviewPropertyMIMETypeKey and kQLPreviewPropertyTextEncodingNameKey keys.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewpropertyattachmentskey?language=objc)
    pub static kQLPreviewPropertyAttachmentsKey: Option<&'static CFString>;
}

extern "C" {
    /// Is the "cid" URL scheme.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/quicklook/kqlpreviewcontentidscheme?language=objc)
    pub static kQLPreviewContentIDScheme: Option<&'static CFString>;
}

/// [Apple's documentation](https://developer.apple.com/documentation/quicklook/qlgeneratorinterfacestruct?language=objc)
#[repr(C)]
#[derive(Clone, Copy, Debug, PartialEq)]
pub struct QLGeneratorInterfaceStruct {
    pub(crate) _reserved: *mut c_void,
    pub QueryInterface:
        Option<unsafe extern "C-unwind" fn(*mut c_void, REFIID, *mut LPVOID) -> HRESULT>,
    pub AddRef: Option<unsafe extern "C-unwind" fn(*mut c_void) -> ULONG>,
    pub Release: Option<unsafe extern "C-unwind" fn(*mut c_void) -> ULONG>,
    pub GenerateThumbnailForURL: Option<
        unsafe extern "C-unwind" fn(
            *mut c_void,
            *mut QLThumbnailRequest,
            *const CFURL,
            *const CFString,
            *const CFDictionary,
            CGSize,
        ) -> OSStatus,
    >,
    pub CancelThumbnailGeneration:
        Option<unsafe extern "C-unwind" fn(*mut c_void, *mut QLThumbnailRequest)>,
    pub GeneratePreviewForURL: Option<
        unsafe extern "C-unwind" fn(
            *mut c_void,
            *mut QLPreviewRequest,
            *const CFURL,
            *const CFString,
            *const CFDictionary,
        ) -> OSStatus,
    >,
    pub CancelPreviewGeneration:
        Option<unsafe extern "C-unwind" fn(*mut c_void, *mut QLPreviewRequest)>,
}

#[cfg(feature = "objc2")]
unsafe impl Encode for QLGeneratorInterfaceStruct {
    const ENCODING: Encoding = Encoding::Struct("?", &[
        <*mut c_void>::ENCODING,
        <Option<unsafe extern "C-unwind" fn(*mut c_void,REFIID,*mut LPVOID,) -> HRESULT>>::ENCODING,
        <Option<unsafe extern "C-unwind" fn(*mut c_void,) -> ULONG>>::ENCODING,
        <Option<unsafe extern "C-unwind" fn(*mut c_void,) -> ULONG>>::ENCODING,
        <Option<unsafe extern "C-unwind" fn(*mut c_void,*mut QLThumbnailRequest,*const CFURL,*const CFString,*const CFDictionary,CGSize,) -> OSStatus>>::ENCODING,
        <Option<unsafe extern "C-unwind" fn(*mut c_void,*mut QLThumbnailRequest,)>>::ENCODING,
        <Option<unsafe extern "C-unwind" fn(*mut c_void,*mut QLPreviewRequest,*const CFURL,*const CFString,*const CFDictionary,) -> OSStatus>>::ENCODING,
        <Option<unsafe extern "C-unwind" fn(*mut c_void,*mut QLPreviewRequest,)>>::ENCODING,
    ]);
}

#[cfg(feature = "objc2")]
unsafe impl RefEncode for QLGeneratorInterfaceStruct {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}
