//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// A class that encapsulates metrics associated with app specific signpost intervals.
    ///
    /// These metrics will be collected and aggregated if the associated signposts were emit using MXSignpost or MXSignpostAnimation APIs
    ///
    /// To limit on-device overhead, the system will automatically limit the number of signposts (emitted using the MetricKit log handle) processed.
    ///
    /// Avoid losing telemetry by limiting usage of signposts (emitted using the MetricKit log handle) to critical sections of code.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/metrickit/mxsignpostintervaldata?language=objc)
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct MXSignpostIntervalData;
);

unsafe impl NSCoding for MXSignpostIntervalData {}

unsafe impl NSObjectProtocol for MXSignpostIntervalData {}

unsafe impl NSSecureCoding for MXSignpostIntervalData {}

extern_methods!(
    unsafe impl MXSignpostIntervalData {
        #[cfg(feature = "MXHistogram")]
        /// A histogram of signpost intervals durations associated with the given signposts with signpostName and signpostCategory.
        #[method_id(@__method_family Other histogrammedSignpostDuration)]
        pub unsafe fn histogrammedSignpostDuration(&self) -> Retained<MXHistogram<NSUnitDuration>>;

        /// Cumulative CPU time aggregated over the MXSignpost intervals.
        ///
        /// This property is null when signposts with the associated signpostName and signpostCategory contain no interval metric data.
        #[method_id(@__method_family Other cumulativeCPUTime)]
        pub unsafe fn cumulativeCPUTime(&self) -> Option<Retained<NSMeasurement<NSUnitDuration>>>;

        #[cfg(feature = "MXAverage")]
        /// Average value of memory snapshots taken at beginning and end of MXSignpost intervals
        ///
        /// This property is null when signposts with the associated signpostName and signpostCategory contain no interval metric data.
        #[method_id(@__method_family Other averageMemory)]
        pub unsafe fn averageMemory(&self)
            -> Option<Retained<MXAverage<NSUnitInformationStorage>>>;

        /// Cumulative logical writes aggregated over the MXSignpost intervals.
        ///
        /// This property is null when signposts with the associated signpostName and signpostCategory contain no interval metric data.
        #[method_id(@__method_family Other cumulativeLogicalWrites)]
        pub unsafe fn cumulativeLogicalWrites(
            &self,
        ) -> Option<Retained<NSMeasurement<NSUnitInformationStorage>>>;

        /// Cumulative hitch time ratio aggregated over the MXSignpostAnimation intervals.
        ///
        /// This property is null when signposts with the associated signpostName and signpostCategory contain no interval metric data.
        #[method_id(@__method_family Other cumulativeHitchTimeRatio)]
        pub unsafe fn cumulativeHitchTimeRatio(&self) -> Option<Retained<NSMeasurement<NSUnit>>>;
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    unsafe impl MXSignpostIntervalData {
        #[method_id(@__method_family Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__method_family New new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);

extern_class!(
    /// An MXMetric subclass that encapsulates signpost metrics.
    ///
    /// Signposts emit using the os_log_t generated by makeLogHandleWithCategory: in MXMetricManger can be flagged for aggregation and reported back in MXMetricPayload.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/metrickit/mxsignpostmetric?language=objc)
    #[unsafe(super(MXMetric, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "MXMetric")]
    pub struct MXSignpostMetric;
);

#[cfg(feature = "MXMetric")]
unsafe impl NSCoding for MXSignpostMetric {}

#[cfg(feature = "MXMetric")]
unsafe impl NSObjectProtocol for MXSignpostMetric {}

#[cfg(feature = "MXMetric")]
unsafe impl NSSecureCoding for MXSignpostMetric {}

extern_methods!(
    #[cfg(feature = "MXMetric")]
    unsafe impl MXSignpostMetric {
        /// The name associated with this aggregated signpost.
        #[method_id(@__method_family Other signpostName)]
        pub unsafe fn signpostName(&self) -> Retained<NSString>;

        /// The category associated with this aggregated signpost.
        #[method_id(@__method_family Other signpostCategory)]
        pub unsafe fn signpostCategory(&self) -> Retained<NSString>;

        /// A class that encapsulates metrics associated with app specific signpost intervals.
        ///
        /// This property is null when signposts with the associated signpostName and signpostCategory contain no intervals.
        #[method_id(@__method_family Other signpostIntervalData)]
        pub unsafe fn signpostIntervalData(&self) -> Option<Retained<MXSignpostIntervalData>>;

        /// The total number of signposts emit with the given signpostName in the aggregation period of the parent payload.
        #[method(totalCount)]
        pub unsafe fn totalCount(&self) -> NSUInteger;
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    #[cfg(feature = "MXMetric")]
    unsafe impl MXSignpostMetric {
        #[method_id(@__method_family Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__method_family New new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);
