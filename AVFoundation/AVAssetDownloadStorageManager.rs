//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;

use crate::*;

/// AVAssetDownloadedAssetEvictionPriority string constants
///
/// Used by AVAssetDownloadStorageManagementPolicy.
///
/// See also [Apple's documentation](https://developer.apple.com/documentation/avfoundation/avassetdownloadedassetevictionpriority?language=objc)
// NS_TYPED_ENUM
pub type AVAssetDownloadedAssetEvictionPriority = NSString;

extern "C" {
    /// These constants represents the eviction priority of downloaded assets.
    ///
    ///
    /// Used to mark assets with the highest priority. They will be the last to be purged.
    ///
    /// Used to mark assets have the default priority. They will be the first to be purged.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/avfoundation/avassetdownloadedassetevictionpriorityimportant?language=objc)
    pub static AVAssetDownloadedAssetEvictionPriorityImportant:
        &'static AVAssetDownloadedAssetEvictionPriority;
}

extern "C" {
    /// [Apple's documentation](https://developer.apple.com/documentation/avfoundation/avassetdownloadedassetevictionprioritydefault?language=objc)
    pub static AVAssetDownloadedAssetEvictionPriorityDefault:
        &'static AVAssetDownloadedAssetEvictionPriority;
}

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/avfoundation/avassetdownloadstoragemanager?language=objc)
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct AVAssetDownloadStorageManager;
);

unsafe impl NSObjectProtocol for AVAssetDownloadStorageManager {}

extern_methods!(
    unsafe impl AVAssetDownloadStorageManager {
        /// returns singleton instance.
        #[method_id(@__retain_semantics Other sharedDownloadStorageManager)]
        pub unsafe fn sharedDownloadStorageManager() -> Retained<AVAssetDownloadStorageManager>;

        /// Sets the policy for asset with disk backing at downloadStorageURL.
        ///
        /// Parameter `downloadStorageURL`: The location of downloaded asset.
        #[method(setStorageManagementPolicy:forURL:)]
        pub unsafe fn setStorageManagementPolicy_forURL(
            &self,
            storage_management_policy: &AVAssetDownloadStorageManagementPolicy,
            download_storage_url: &NSURL,
        );

        /// Returns the storage management policy for asset downloaded at downloadStorageURL.
        /// This may be nil if a storageManagementPolicy was never set on the downloaded asset.
        ///
        /// Parameter `downloadStorageURL`: The location of downloaded asset.
        #[method_id(@__retain_semantics Other storageManagementPolicyForURL:)]
        pub unsafe fn storageManagementPolicyForURL(
            &self,
            download_storage_url: &NSURL,
        ) -> Option<Retained<AVAssetDownloadStorageManagementPolicy>>;
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    unsafe impl AVAssetDownloadStorageManager {
        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/avfoundation/avassetdownloadstoragemanagementpolicy?language=objc)
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct AVAssetDownloadStorageManagementPolicy;
);

unsafe impl NSCopying for AVAssetDownloadStorageManagementPolicy {}

unsafe impl CopyingHelper for AVAssetDownloadStorageManagementPolicy {
    type Result = Self;
}

unsafe impl NSMutableCopying for AVAssetDownloadStorageManagementPolicy {}

unsafe impl MutableCopyingHelper for AVAssetDownloadStorageManagementPolicy {
    type Result = AVMutableAssetDownloadStorageManagementPolicy;
}

unsafe impl NSObjectProtocol for AVAssetDownloadStorageManagementPolicy {}

extern_methods!(
    unsafe impl AVAssetDownloadStorageManagementPolicy {
        #[method_id(@__retain_semantics Other priority)]
        pub unsafe fn priority(&self) -> Retained<AVAssetDownloadedAssetEvictionPriority>;

        #[method_id(@__retain_semantics Other expirationDate)]
        pub unsafe fn expirationDate(&self) -> Retained<NSDate>;
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    unsafe impl AVAssetDownloadStorageManagementPolicy {
        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);

extern_class!(
    /// A mutable subclass of AVAssetDownloadStorageManagementPolicy.
    ///
    ///
    /// System will put in best-effort to evict all the assets based on expirationDate before evicting based on priority.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/avfoundation/avmutableassetdownloadstoragemanagementpolicy?language=objc)
    #[unsafe(super(AVAssetDownloadStorageManagementPolicy, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct AVMutableAssetDownloadStorageManagementPolicy;
);

unsafe impl NSCopying for AVMutableAssetDownloadStorageManagementPolicy {}

unsafe impl CopyingHelper for AVMutableAssetDownloadStorageManagementPolicy {
    type Result = AVAssetDownloadStorageManagementPolicy;
}

unsafe impl NSMutableCopying for AVMutableAssetDownloadStorageManagementPolicy {}

unsafe impl MutableCopyingHelper for AVMutableAssetDownloadStorageManagementPolicy {
    type Result = Self;
}

unsafe impl NSObjectProtocol for AVMutableAssetDownloadStorageManagementPolicy {}

extern_methods!(
    unsafe impl AVMutableAssetDownloadStorageManagementPolicy {
        #[method_id(@__retain_semantics Other priority)]
        pub unsafe fn priority(&self) -> Retained<AVAssetDownloadedAssetEvictionPriority>;

        /// Setter for [`priority`][Self::priority].
        #[method(setPriority:)]
        pub unsafe fn setPriority(&self, priority: &AVAssetDownloadedAssetEvictionPriority);

        #[method_id(@__retain_semantics Other expirationDate)]
        pub unsafe fn expirationDate(&self) -> Retained<NSDate>;

        /// Setter for [`expirationDate`][Self::expirationDate].
        #[method(setExpirationDate:)]
        pub unsafe fn setExpirationDate(&self, expiration_date: &NSDate);
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    unsafe impl AVMutableAssetDownloadStorageManagementPolicy {
        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);
