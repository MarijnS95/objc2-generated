//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-core-foundation")]
use objc2_core_foundation::*;
use objc2_foundation::*;
#[cfg(feature = "objc2-quartz-core")]
#[cfg(not(target_os = "watchos"))]
use objc2_quartz_core::*;

use crate::*;

/// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewscrollposition?language=objc)
// NS_OPTIONS
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct UICollectionViewScrollPosition(pub NSUInteger);
bitflags::bitflags! {
    impl UICollectionViewScrollPosition: NSUInteger {
        #[doc(alias = "UICollectionViewScrollPositionNone")]
        const None = 0;
        #[doc(alias = "UICollectionViewScrollPositionTop")]
        const Top = 1<<0;
        #[doc(alias = "UICollectionViewScrollPositionCenteredVertically")]
        const CenteredVertically = 1<<1;
        #[doc(alias = "UICollectionViewScrollPositionBottom")]
        const Bottom = 1<<2;
        #[doc(alias = "UICollectionViewScrollPositionLeft")]
        const Left = 1<<3;
        #[doc(alias = "UICollectionViewScrollPositionCenteredHorizontally")]
        const CenteredHorizontally = 1<<4;
        #[doc(alias = "UICollectionViewScrollPositionRight")]
        const Right = 1<<5;
    }
}

unsafe impl Encode for UICollectionViewScrollPosition {
    const ENCODING: Encoding = NSUInteger::ENCODING;
}

unsafe impl RefEncode for UICollectionViewScrollPosition {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewreorderingcadence?language=objc)
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct UICollectionViewReorderingCadence(pub NSInteger);
impl UICollectionViewReorderingCadence {
    #[doc(alias = "UICollectionViewReorderingCadenceImmediate")]
    pub const Immediate: Self = Self(0);
    #[doc(alias = "UICollectionViewReorderingCadenceFast")]
    pub const Fast: Self = Self(1);
    #[doc(alias = "UICollectionViewReorderingCadenceSlow")]
    pub const Slow: Self = Self(2);
}

unsafe impl Encode for UICollectionViewReorderingCadence {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for UICollectionViewReorderingCadence {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewselfsizinginvalidation?language=objc)
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct UICollectionViewSelfSizingInvalidation(pub NSInteger);
impl UICollectionViewSelfSizingInvalidation {
    /// No updates will take place when -invalidateIntrinsicContentSize is called on a self-sizing cell or its contentView.
    #[doc(alias = "UICollectionViewSelfSizingInvalidationDisabled")]
    pub const Disabled: Self = Self(0);
    /// Calling -invalidateIntrinsicContentSize on a self-sizing cell or its contentView will cause it to be resized if necessary.
    #[doc(alias = "UICollectionViewSelfSizingInvalidationEnabled")]
    pub const Enabled: Self = Self(1);
    /// Calling -invalidateIntrinsicContentSize on a self-sizing cell or its contentView will cause it to be resized if necessary, and
    /// any Auto Layout changes within the contentView of a self-sizing cell will automatically trigger -invalidateIntrinsicContentSize.
    #[doc(alias = "UICollectionViewSelfSizingInvalidationEnabledIncludingConstraints")]
    pub const EnabledIncludingConstraints: Self = Self(2);
}

unsafe impl Encode for UICollectionViewSelfSizingInvalidation {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for UICollectionViewSelfSizingInvalidation {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewlayoutinteractivetransitioncompletion?language=objc)
#[cfg(feature = "block2")]
pub type UICollectionViewLayoutInteractiveTransitionCompletion =
    *mut block2::Block<dyn Fn(Bool, Bool)>;

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewfocusupdatecontext?language=objc)
    #[unsafe(super(UIFocusUpdateContext, NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "UIFocus")]
    pub struct UICollectionViewFocusUpdateContext;
);

#[cfg(feature = "UIFocus")]
unsafe impl NSObjectProtocol for UICollectionViewFocusUpdateContext {}

extern_methods!(
    #[cfg(feature = "UIFocus")]
    unsafe impl UICollectionViewFocusUpdateContext {
        #[method_id(@__retain_semantics Other previouslyFocusedIndexPath)]
        pub unsafe fn previouslyFocusedIndexPath(&self) -> Option<Retained<NSIndexPath>>;

        #[method_id(@__retain_semantics Other nextFocusedIndexPath)]
        pub unsafe fn nextFocusedIndexPath(&self) -> Option<Retained<NSIndexPath>>;
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    #[cfg(feature = "UIFocus")]
    unsafe impl UICollectionViewFocusUpdateContext {
        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new(mtm: MainThreadMarker) -> Retained<Self>;
    }
);

extern_protocol!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdatasource?language=objc)
    pub unsafe trait UICollectionViewDataSource: NSObjectProtocol + MainThreadOnly {
        #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
        #[method(collectionView:numberOfItemsInSection:)]
        unsafe fn collectionView_numberOfItemsInSection(
            &self,
            collection_view: &UICollectionView,
            section: NSInteger,
        ) -> NSInteger;

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[method_id(@__retain_semantics Other collectionView:cellForItemAtIndexPath:)]
        unsafe fn collectionView_cellForItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> Retained<UICollectionViewCell>;

        #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
        #[optional]
        #[method(numberOfSectionsInCollectionView:)]
        unsafe fn numberOfSectionsInCollectionView(
            &self,
            collection_view: &UICollectionView,
        ) -> NSInteger;

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:viewForSupplementaryElementOfKind:atIndexPath:)]
        unsafe fn collectionView_viewForSupplementaryElementOfKind_atIndexPath(
            &self,
            collection_view: &UICollectionView,
            kind: &NSString,
            index_path: &NSIndexPath,
        ) -> Retained<UICollectionReusableView>;

        #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
        #[optional]
        #[method(collectionView:canMoveItemAtIndexPath:)]
        unsafe fn collectionView_canMoveItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
        #[optional]
        #[method(collectionView:moveItemAtIndexPath:toIndexPath:)]
        unsafe fn collectionView_moveItemAtIndexPath_toIndexPath(
            &self,
            collection_view: &UICollectionView,
            source_index_path: &NSIndexPath,
            destination_index_path: &NSIndexPath,
        );

        #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
        /// Returns a list of index titles to display in the index view (e.g. ["A", "B", "C" ... "Z", "#"])
        #[optional]
        #[method_id(@__retain_semantics Other indexTitlesForCollectionView:)]
        unsafe fn indexTitlesForCollectionView(
            &self,
            collection_view: &UICollectionView,
        ) -> Option<Retained<NSArray<NSString>>>;

        #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
        /// Returns the index path that corresponds to the given title / index. (e.g. "B",1)
        /// Return an index path with a single index to indicate an entire section, instead of a specific item.
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:indexPathForIndexTitle:atIndex:)]
        unsafe fn collectionView_indexPathForIndexTitle_atIndex(
            &self,
            collection_view: &UICollectionView,
            title: &NSString,
            index: NSInteger,
        ) -> Retained<NSIndexPath>;
    }

    unsafe impl ProtocolType for dyn UICollectionViewDataSource {}
);

extern_protocol!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdatasourceprefetching?language=objc)
    pub unsafe trait UICollectionViewDataSourcePrefetching:
        NSObjectProtocol + MainThreadOnly
    {
        #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
        #[method(collectionView:prefetchItemsAtIndexPaths:)]
        unsafe fn collectionView_prefetchItemsAtIndexPaths(
            &self,
            collection_view: &UICollectionView,
            index_paths: &NSArray<NSIndexPath>,
        );

        #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
        #[optional]
        #[method(collectionView:cancelPrefetchingForItemsAtIndexPaths:)]
        unsafe fn collectionView_cancelPrefetchingForItemsAtIndexPaths(
            &self,
            collection_view: &UICollectionView,
            index_paths: &NSArray<NSIndexPath>,
        );
    }

    unsafe impl ProtocolType for dyn UICollectionViewDataSourcePrefetching {}
);

extern_protocol!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdelegate?language=objc)
    #[cfg(feature = "UIScrollView")]
    pub unsafe trait UICollectionViewDelegate:
        UIScrollViewDelegate + MainThreadOnly
    {
        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:shouldHighlightItemAtIndexPath:)]
        unsafe fn collectionView_shouldHighlightItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:didHighlightItemAtIndexPath:)]
        unsafe fn collectionView_didHighlightItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        );

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:didUnhighlightItemAtIndexPath:)]
        unsafe fn collectionView_didUnhighlightItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        );

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:shouldSelectItemAtIndexPath:)]
        unsafe fn collectionView_shouldSelectItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:shouldDeselectItemAtIndexPath:)]
        unsafe fn collectionView_shouldDeselectItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:didSelectItemAtIndexPath:)]
        unsafe fn collectionView_didSelectItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        );

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:didDeselectItemAtIndexPath:)]
        unsafe fn collectionView_didDeselectItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        );

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        /// Called to determine if a primary action can be performed for the item at the given indexPath.
        /// See
        /// `collectionView:performPrimaryActionForItemAtIndexPath:`for more details about primary actions.
        ///
        ///
        /// Parameter `collectionView`: This UICollectionView
        ///
        /// Parameter `indexPath`: NSIndexPath of the item
        ///
        ///
        /// Returns: `YES` if the primary action can be performed; otherwise `NO`. If not implemented, defaults to `YES` when not editing
        /// and `NO` when editing.
        #[optional]
        #[method(collectionView:canPerformPrimaryActionForItemAtIndexPath:)]
        unsafe fn collectionView_canPerformPrimaryActionForItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        /// Called when the primary action should be performed for the item at the given indexPath.
        ///
        ///
        /// Primary actions allow you to distinguish between a change of selection (which can be based on focus changes or
        /// other indirect selection changes) and distinct user actions. Primary actions are performed when the user selects a cell without extending
        /// an existing selection. This is called after
        /// `shouldSelectItem`and
        /// `didSelectItem`, regardless of whether the cell's selection
        /// state was allowed to change.
        ///
        /// As an example, use
        /// `didSelectItemAtIndexPath`for updating state in the current view controller (i.e. buttons, title, etc) and
        /// use the primary action for navigation or showing another split view column.
        ///
        ///
        /// Parameter `collectionView`: This UICollectionView
        ///
        /// Parameter `indexPath`: NSIndexPath of the item to perform the action on
        #[optional]
        #[method(collectionView:performPrimaryActionForItemAtIndexPath:)]
        unsafe fn collectionView_performPrimaryActionForItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        );

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIResponder",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:willDisplayCell:forItemAtIndexPath:)]
        unsafe fn collectionView_willDisplayCell_forItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            cell: &UICollectionViewCell,
            index_path: &NSIndexPath,
        );

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIResponder",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:willDisplaySupplementaryView:forElementKind:atIndexPath:)]
        unsafe fn collectionView_willDisplaySupplementaryView_forElementKind_atIndexPath(
            &self,
            collection_view: &UICollectionView,
            view: &UICollectionReusableView,
            element_kind: &NSString,
            index_path: &NSIndexPath,
        );

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIResponder",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:didEndDisplayingCell:forItemAtIndexPath:)]
        unsafe fn collectionView_didEndDisplayingCell_forItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            cell: &UICollectionViewCell,
            index_path: &NSIndexPath,
        );

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIResponder",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:didEndDisplayingSupplementaryView:forElementOfKind:atIndexPath:)]
        unsafe fn collectionView_didEndDisplayingSupplementaryView_forElementOfKind_atIndexPath(
            &self,
            collection_view: &UICollectionView,
            view: &UICollectionReusableView,
            element_kind: &NSString,
            index_path: &NSIndexPath,
        );

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[deprecated]
        #[optional]
        #[method(collectionView:shouldShowMenuForItemAtIndexPath:)]
        unsafe fn collectionView_shouldShowMenuForItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[deprecated]
        #[optional]
        #[method(collectionView:canPerformAction:forItemAtIndexPath:withSender:)]
        unsafe fn collectionView_canPerformAction_forItemAtIndexPath_withSender(
            &self,
            collection_view: &UICollectionView,
            action: Sel,
            index_path: &NSIndexPath,
            sender: Option<&AnyObject>,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[deprecated]
        #[optional]
        #[method(collectionView:performAction:forItemAtIndexPath:withSender:)]
        unsafe fn collectionView_performAction_forItemAtIndexPath_withSender(
            &self,
            collection_view: &UICollectionView,
            action: Sel,
            index_path: &NSIndexPath,
            sender: Option<&AnyObject>,
        );

        #[cfg(all(
            feature = "UICollectionViewLayout",
            feature = "UICollectionViewTransitionLayout",
            feature = "UIResponder",
            feature = "UIView"
        ))]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:transitionLayoutForOldLayout:newLayout:)]
        unsafe fn collectionView_transitionLayoutForOldLayout_newLayout(
            &self,
            collection_view: &UICollectionView,
            from_layout: &UICollectionViewLayout,
            to_layout: &UICollectionViewLayout,
        ) -> Retained<UICollectionViewTransitionLayout>;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:canFocusItemAtIndexPath:)]
        unsafe fn collectionView_canFocusItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(feature = "UIFocus", feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:shouldUpdateFocusInContext:)]
        unsafe fn collectionView_shouldUpdateFocusInContext(
            &self,
            collection_view: &UICollectionView,
            context: &UICollectionViewFocusUpdateContext,
        ) -> bool;

        #[cfg(all(
            feature = "UIFocus",
            feature = "UIFocusAnimationCoordinator",
            feature = "UIResponder",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:didUpdateFocusInContext:withAnimationCoordinator:)]
        unsafe fn collectionView_didUpdateFocusInContext_withAnimationCoordinator(
            &self,
            collection_view: &UICollectionView,
            context: &UICollectionViewFocusUpdateContext,
            coordinator: &UIFocusAnimationCoordinator,
        );

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method_id(@__retain_semantics Other indexPathForPreferredFocusedViewInCollectionView:)]
        unsafe fn indexPathForPreferredFocusedViewInCollectionView(
            &self,
            collection_view: &UICollectionView,
        ) -> Option<Retained<NSIndexPath>>;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        /// Determines if the item at the specified index path should also become selected when focus moves to it.
        /// If the collection view's global selectionFollowsFocus is enabled, this method will allow you to override that behavior on a per-index path basis. This method is not called if selectionFollowsFocus is disabled.
        #[optional]
        #[method(collectionView:selectionFollowsFocusForItemAtIndexPath:)]
        unsafe fn collectionView_selectionFollowsFocusForItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:targetIndexPathForMoveOfItemFromOriginalIndexPath:atCurrentIndexPath:toProposedIndexPath:)]
        unsafe fn collectionView_targetIndexPathForMoveOfItemFromOriginalIndexPath_atCurrentIndexPath_toProposedIndexPath(
            &self,
            collection_view: &UICollectionView,
            original_index_path: &NSIndexPath,
            current_index_path: &NSIndexPath,
            proposed_index_path: &NSIndexPath,
        ) -> Retained<NSIndexPath>;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[deprecated]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:targetIndexPathForMoveFromItemAtIndexPath:toProposedIndexPath:)]
        unsafe fn collectionView_targetIndexPathForMoveFromItemAtIndexPath_toProposedIndexPath(
            &self,
            collection_view: &UICollectionView,
            current_index_path: &NSIndexPath,
            proposed_index_path: &NSIndexPath,
        ) -> Retained<NSIndexPath>;

        #[cfg(all(
            feature = "UIResponder",
            feature = "UIView",
            feature = "objc2-core-foundation"
        ))]
        #[optional]
        #[method(collectionView:targetContentOffsetForProposedContentOffset:)]
        unsafe fn collectionView_targetContentOffsetForProposedContentOffset(
            &self,
            collection_view: &UICollectionView,
            proposed_content_offset: CGPoint,
        ) -> CGPoint;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:canEditItemAtIndexPath:)]
        unsafe fn collectionView_canEditItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(
            feature = "UIResponder",
            feature = "UISpringLoadedInteraction",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:shouldSpringLoadItemAtIndexPath:withContext:)]
        unsafe fn collectionView_shouldSpringLoadItemAtIndexPath_withContext(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
            context: &ProtocolObject<dyn UISpringLoadedInteractionContext>,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:shouldBeginMultipleSelectionInteractionAtIndexPath:)]
        unsafe fn collectionView_shouldBeginMultipleSelectionInteractionAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionView:didBeginMultipleSelectionInteractionAtIndexPath:)]
        unsafe fn collectionView_didBeginMultipleSelectionInteractionAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        );

        #[cfg(all(feature = "UIResponder", feature = "UIView"))]
        #[optional]
        #[method(collectionViewDidEndMultipleSelectionInteraction:)]
        unsafe fn collectionViewDidEndMultipleSelectionInteraction(
            &self,
            collection_view: &UICollectionView,
        );

        #[cfg(all(
            feature = "UIContextMenuConfiguration",
            feature = "UIResponder",
            feature = "UIView",
            feature = "objc2-core-foundation"
        ))]
        /// Called when a context menu is invoked from this collection view.
        ///
        ///
        /// Parameter `collectionView`: The
        /// `UICollectionView.`
        /// Parameter `indexPaths`: An array of index paths on which the menu acts.
        ///
        /// Parameter `point`: Touch location in the collection view's coordinate space.
        ///
        ///
        /// Returns: A
        /// `UIContextMenuConfiguration`describing the menu to be presented. Return nil to prevent the interaction from beginning.
        /// Returning an empty configuration causes the interaction to begin then fail with a cancellation effect. You might use this
        /// to indicate to users that it's possible for a menu to be presented from this element, but that there are no actions to
        /// present at this particular time.
        ///
        ///
        /// The
        /// `indexPaths`array may contain 0-many items:
        /// - An empty array indicates that the menu was invoked in the space between cells (or any location that does not map to an item index path).
        /// - An array with multiple index paths indicates that the menu was invoked on an item within a multiple selection.
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:contextMenuConfigurationForItemsAtIndexPaths:point:)]
        unsafe fn collectionView_contextMenuConfigurationForItemsAtIndexPaths_point(
            &self,
            collection_view: &UICollectionView,
            index_paths: &NSArray<NSIndexPath>,
            point: CGPoint,
        ) -> Option<Retained<UIContextMenuConfiguration>>;

        #[cfg(all(
            feature = "UIContextMenuConfiguration",
            feature = "UIResponder",
            feature = "UITargetedPreview",
            feature = "UIView"
        ))]
        /// Called when a context menu interaction begins in this collection view to request a preview for the interaction's initial highlight effect.
        /// Return a
        /// `UITargetedPreview`corresponding to the item at the given indexPath.
        ///
        ///
        /// Parameter `collectionView`: The
        /// `UICollectionView.`
        /// Parameter `configuration`: Configuration of the menu that will be presented if the interaction proceeds.
        ///
        /// Parameter `indexPath`: Index path of the item at which the interaction is occurring.
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:contextMenuConfiguration:highlightPreviewForItemAtIndexPath:)]
        unsafe fn collectionView_contextMenuConfiguration_highlightPreviewForItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            configuration: &UIContextMenuConfiguration,
            index_path: &NSIndexPath,
        ) -> Option<Retained<UITargetedPreview>>;

        #[cfg(all(
            feature = "UIContextMenuConfiguration",
            feature = "UIResponder",
            feature = "UITargetedPreview",
            feature = "UIView"
        ))]
        /// Called when a context menu presented from this collection view is dismissed. Return a
        /// `UITargetedPreview`corresponding to the item at the given indexPath.
        ///
        ///
        /// Parameter `collectionView`: The
        /// `UICollectionView.`
        /// Parameter `configuration`: Configuration of the menu being dismissed.
        ///
        /// Parameter `indexPath`: Index path of the item to which the menu is being dismissed.
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:contextMenuConfiguration:dismissalPreviewForItemAtIndexPath:)]
        unsafe fn collectionView_contextMenuConfiguration_dismissalPreviewForItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            configuration: &UIContextMenuConfiguration,
            index_path: &NSIndexPath,
        ) -> Option<Retained<UITargetedPreview>>;

        #[cfg(all(
            feature = "UIContextMenuConfiguration",
            feature = "UIContextMenuInteraction",
            feature = "UIResponder",
            feature = "UIView"
        ))]
        /// Called when the interaction is about to "commit" in response to the user tapping the preview.
        ///
        ///
        /// Parameter `collectionView`: The
        /// `UICollectionView.`
        /// Parameter `configuration`: Configuration of the currently displayed menu.
        ///
        /// Parameter `animator`: Commit animator. Add animations to this object to run them alongside the commit transition.
        #[optional]
        #[method(collectionView:willPerformPreviewActionForMenuWithConfiguration:animator:)]
        unsafe fn collectionView_willPerformPreviewActionForMenuWithConfiguration_animator(
            &self,
            collection_view: &UICollectionView,
            configuration: &UIContextMenuConfiguration,
            animator: &ProtocolObject<dyn UIContextMenuInteractionCommitAnimating>,
        );

        #[cfg(all(
            feature = "UIContextMenuConfiguration",
            feature = "UIContextMenuInteraction",
            feature = "UIResponder",
            feature = "UIView"
        ))]
        /// Called when the collection view is about to display a menu.
        ///
        ///
        /// Parameter `collectionView`: The
        /// `UICollectionView.`
        /// Parameter `configuration`: The configuration of the menu about to be displayed.
        ///
        /// Parameter `animator`: Appearance animator. Add animations to run them alongside the appearance transition.
        #[optional]
        #[method(collectionView:willDisplayContextMenuWithConfiguration:animator:)]
        unsafe fn collectionView_willDisplayContextMenuWithConfiguration_animator(
            &self,
            collection_view: &UICollectionView,
            configuration: &UIContextMenuConfiguration,
            animator: Option<&ProtocolObject<dyn UIContextMenuInteractionAnimating>>,
        );

        #[cfg(all(
            feature = "UIContextMenuConfiguration",
            feature = "UIContextMenuInteraction",
            feature = "UIResponder",
            feature = "UIView"
        ))]
        /// Called when the collection view's context menu interaction is about to end.
        ///
        ///
        /// Parameter `collectionView`: The
        /// `UICollectionView.`
        /// Parameter `configuration`: Ending configuration.
        ///
        /// Parameter `animator`: Disappearance animator. Add animations to run them alongside the disappearance transition.
        #[optional]
        #[method(collectionView:willEndContextMenuInteractionWithConfiguration:animator:)]
        unsafe fn collectionView_willEndContextMenuInteractionWithConfiguration_animator(
            &self,
            collection_view: &UICollectionView,
            configuration: &UIContextMenuConfiguration,
            animator: Option<&ProtocolObject<dyn UIContextMenuInteractionAnimating>>,
        );

        #[cfg(all(
            feature = "UIResponder",
            feature = "UIView",
            feature = "UIWindowSceneActivationConfiguration",
            feature = "objc2-core-foundation"
        ))]
        /// Return a valid
        /// `UIWindowSceneActivationConfiguration`to allow for the cell to be expanded into a new scene. Return nil to prevent the interaction from starting.
        ///
        ///
        /// Parameter `collectionView`: The collection view
        ///
        /// Parameter `indexPath`: The index path of the cell being interacted with
        ///
        /// Parameter `point`: The centroid of the interaction in the collection view's coordinate space.
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:sceneActivationConfigurationForItemAtIndexPath:point:)]
        unsafe fn collectionView_sceneActivationConfigurationForItemAtIndexPath_point(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
            point: CGPoint,
        ) -> Option<Retained<UIWindowSceneActivationConfiguration>>;

        #[cfg(all(
            feature = "UIContextMenuConfiguration",
            feature = "UIResponder",
            feature = "UIView",
            feature = "objc2-core-foundation"
        ))]
        /// Called when the interaction begins.
        ///
        ///
        /// Parameter `collectionView`: The
        /// `UICollectionView.`
        /// Parameter `indexPath`: IndexPath of the item for which a configuration is being requested.
        ///
        /// Parameter `point`: Touch location in the collection view's coordinate space
        ///
        ///
        /// Returns: A UIContextMenuConfiguration describing the menu to be presented. Return nil to prevent the interaction from beginning.
        /// Returning an empty configuration causes the interaction to begin then fail with a cancellation effect. You might use this
        /// to indicate to users that it's possible for a menu to be presented from this element, but that there are no actions to
        /// present at this particular time. If the non-deprecated replacement for the configuration, highlight preview, or dismissal preview methods is implemented this method is not called.
        #[deprecated]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:contextMenuConfigurationForItemAtIndexPath:point:)]
        unsafe fn collectionView_contextMenuConfigurationForItemAtIndexPath_point(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
            point: CGPoint,
        ) -> Option<Retained<UIContextMenuConfiguration>>;

        #[cfg(all(
            feature = "UIContextMenuConfiguration",
            feature = "UIResponder",
            feature = "UITargetedPreview",
            feature = "UIView"
        ))]
        /// Called when the interaction begins. Return a UITargetedPreview describing the desired highlight preview.
        /// If the non-deprecated replacement for the configuration, highlight preview, or dismissal preview methods is implemented this method is not called.
        ///
        ///
        /// Parameter `collectionView`: The
        /// `UICollectionView.`
        /// Parameter `configuration`: The configuration of the menu about to be displayed by this interaction.
        #[deprecated]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:previewForHighlightingContextMenuWithConfiguration:)]
        unsafe fn collectionView_previewForHighlightingContextMenuWithConfiguration(
            &self,
            collection_view: &UICollectionView,
            configuration: &UIContextMenuConfiguration,
        ) -> Option<Retained<UITargetedPreview>>;

        #[cfg(all(
            feature = "UIContextMenuConfiguration",
            feature = "UIResponder",
            feature = "UITargetedPreview",
            feature = "UIView"
        ))]
        /// Called when the interaction is about to dismiss. Return a UITargetedPreview describing the desired dismissal target.
        /// The interaction will animate the presented menu to the target. Use this to customize the dismissal animation.
        /// If the non-deprecated replacement for the configuration, highlight preview, or dismissal preview methods is implemented this method is not called.
        ///
        ///
        /// Parameter `collectionView`: The
        /// `UICollectionView.`
        /// Parameter `configuration`: The configuration of the menu displayed by this interaction.
        #[deprecated]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:previewForDismissingContextMenuWithConfiguration:)]
        unsafe fn collectionView_previewForDismissingContextMenuWithConfiguration(
            &self,
            collection_view: &UICollectionView,
            configuration: &UIContextMenuConfiguration,
        ) -> Option<Retained<UITargetedPreview>>;
    }

    #[cfg(feature = "UIScrollView")]
    unsafe impl ProtocolType for dyn UICollectionViewDelegate {}
);

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionview?language=objc)
    #[unsafe(super(UIScrollView, UIView, UIResponder, NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
    pub struct UICollectionView;
);

#[cfg(all(
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UIView",
    feature = "objc2-quartz-core"
))]
#[cfg(not(target_os = "watchos"))]
unsafe impl CALayerDelegate for UICollectionView {}

#[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
unsafe impl NSCoding for UICollectionView {}

#[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
unsafe impl NSObjectProtocol for UICollectionView {}

#[cfg(all(
    feature = "UIAppearance",
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UIView"
))]
unsafe impl UIAppearance for UICollectionView {}

#[cfg(all(
    feature = "UIAppearance",
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UIView"
))]
unsafe impl UIAppearanceContainer for UICollectionView {}

#[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
unsafe impl UICoordinateSpace for UICollectionView {}

#[cfg(all(
    feature = "UIDataSourceTranslating",
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UIView"
))]
unsafe impl UIDataSourceTranslating for UICollectionView {}

#[cfg(all(
    feature = "UIDynamicBehavior",
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UIView"
))]
unsafe impl UIDynamicItem for UICollectionView {}

#[cfg(all(
    feature = "UIFocus",
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UIView"
))]
unsafe impl UIFocusEnvironment for UICollectionView {}

#[cfg(all(
    feature = "UIFocus",
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UIView"
))]
unsafe impl UIFocusItem for UICollectionView {}

#[cfg(all(
    feature = "UIFocus",
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UIView"
))]
unsafe impl UIFocusItemContainer for UICollectionView {}

#[cfg(all(
    feature = "UIFocus",
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UIView"
))]
unsafe impl UIFocusItemScrollableContainer for UICollectionView {}

#[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
unsafe impl UIResponderStandardEditActions for UICollectionView {}

#[cfg(all(
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UITraitCollection",
    feature = "UIView"
))]
unsafe impl UITraitEnvironment for UICollectionView {}

extern_methods!(
    #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
    unsafe impl UICollectionView {
        #[cfg(all(feature = "UICollectionViewLayout", feature = "objc2-core-foundation"))]
        #[method_id(@__retain_semantics Init initWithFrame:collectionViewLayout:)]
        pub unsafe fn initWithFrame_collectionViewLayout(
            this: Allocated<Self>,
            frame: CGRect,
            layout: &UICollectionViewLayout,
        ) -> Retained<Self>;

        #[method_id(@__retain_semantics Init initWithCoder:)]
        pub unsafe fn initWithCoder(
            this: Allocated<Self>,
            coder: &NSCoder,
        ) -> Option<Retained<Self>>;

        #[cfg(feature = "UICollectionViewLayout")]
        #[method_id(@__retain_semantics Other collectionViewLayout)]
        pub unsafe fn collectionViewLayout(&self) -> Retained<UICollectionViewLayout>;

        #[cfg(feature = "UICollectionViewLayout")]
        /// Setter for [`collectionViewLayout`][Self::collectionViewLayout].
        #[method(setCollectionViewLayout:)]
        pub unsafe fn setCollectionViewLayout(
            &self,
            collection_view_layout: &UICollectionViewLayout,
        );

        #[method_id(@__retain_semantics Other delegate)]
        pub unsafe fn delegate(
            &self,
        ) -> Option<Retained<ProtocolObject<dyn UICollectionViewDelegate>>>;

        /// This is a [weak property][objc2::topics::weak_property].
        /// Setter for [`delegate`][Self::delegate].
        #[method(setDelegate:)]
        pub unsafe fn setDelegate(
            &self,
            delegate: Option<&ProtocolObject<dyn UICollectionViewDelegate>>,
        );

        #[method_id(@__retain_semantics Other dataSource)]
        pub unsafe fn dataSource(
            &self,
        ) -> Option<Retained<ProtocolObject<dyn UICollectionViewDataSource>>>;

        /// This is a [weak property][objc2::topics::weak_property].
        /// Setter for [`dataSource`][Self::dataSource].
        #[method(setDataSource:)]
        pub unsafe fn setDataSource(
            &self,
            data_source: Option<&ProtocolObject<dyn UICollectionViewDataSource>>,
        );

        #[method_id(@__retain_semantics Other prefetchDataSource)]
        pub unsafe fn prefetchDataSource(
            &self,
        ) -> Option<Retained<ProtocolObject<dyn UICollectionViewDataSourcePrefetching>>>;

        /// This is a [weak property][objc2::topics::weak_property].
        /// Setter for [`prefetchDataSource`][Self::prefetchDataSource].
        #[method(setPrefetchDataSource:)]
        pub unsafe fn setPrefetchDataSource(
            &self,
            prefetch_data_source: Option<
                &ProtocolObject<dyn UICollectionViewDataSourcePrefetching>,
            >,
        );

        #[method(isPrefetchingEnabled)]
        pub unsafe fn isPrefetchingEnabled(&self) -> bool;

        /// Setter for [`isPrefetchingEnabled`][Self::isPrefetchingEnabled].
        #[method(setPrefetchingEnabled:)]
        pub unsafe fn setPrefetchingEnabled(&self, prefetching_enabled: bool);

        #[method_id(@__retain_semantics Other dragDelegate)]
        pub unsafe fn dragDelegate(
            &self,
        ) -> Option<Retained<ProtocolObject<dyn UICollectionViewDragDelegate>>>;

        /// This is a [weak property][objc2::topics::weak_property].
        /// Setter for [`dragDelegate`][Self::dragDelegate].
        #[method(setDragDelegate:)]
        pub unsafe fn setDragDelegate(
            &self,
            drag_delegate: Option<&ProtocolObject<dyn UICollectionViewDragDelegate>>,
        );

        #[method_id(@__retain_semantics Other dropDelegate)]
        pub unsafe fn dropDelegate(
            &self,
        ) -> Option<Retained<ProtocolObject<dyn UICollectionViewDropDelegate>>>;

        /// This is a [weak property][objc2::topics::weak_property].
        /// Setter for [`dropDelegate`][Self::dropDelegate].
        #[method(setDropDelegate:)]
        pub unsafe fn setDropDelegate(
            &self,
            drop_delegate: Option<&ProtocolObject<dyn UICollectionViewDropDelegate>>,
        );

        #[method(dragInteractionEnabled)]
        pub unsafe fn dragInteractionEnabled(&self) -> bool;

        /// Setter for [`dragInteractionEnabled`][Self::dragInteractionEnabled].
        #[method(setDragInteractionEnabled:)]
        pub unsafe fn setDragInteractionEnabled(&self, drag_interaction_enabled: bool);

        #[cfg(feature = "UIContextMenuInteraction")]
        #[method_id(@__retain_semantics Other contextMenuInteraction)]
        pub unsafe fn contextMenuInteraction(&self) -> Option<Retained<UIContextMenuInteraction>>;

        #[method(reorderingCadence)]
        pub unsafe fn reorderingCadence(&self) -> UICollectionViewReorderingCadence;

        /// Setter for [`reorderingCadence`][Self::reorderingCadence].
        #[method(setReorderingCadence:)]
        pub unsafe fn setReorderingCadence(
            &self,
            reordering_cadence: UICollectionViewReorderingCadence,
        );

        #[method(selfSizingInvalidation)]
        pub unsafe fn selfSizingInvalidation(&self) -> UICollectionViewSelfSizingInvalidation;

        /// Setter for [`selfSizingInvalidation`][Self::selfSizingInvalidation].
        #[method(setSelfSizingInvalidation:)]
        pub unsafe fn setSelfSizingInvalidation(
            &self,
            self_sizing_invalidation: UICollectionViewSelfSizingInvalidation,
        );

        #[method_id(@__retain_semantics Other backgroundView)]
        pub unsafe fn backgroundView(&self) -> Option<Retained<UIView>>;

        /// Setter for [`backgroundView`][Self::backgroundView].
        #[method(setBackgroundView:)]
        pub unsafe fn setBackgroundView(&self, background_view: Option<&UIView>);

        #[method(registerClass:forCellWithReuseIdentifier:)]
        pub unsafe fn registerClass_forCellWithReuseIdentifier(
            &self,
            cell_class: Option<&AnyClass>,
            identifier: &NSString,
        );

        #[cfg(feature = "UINib")]
        #[deprecated = "Loading Interface Builder products will not be supported in a future version of visionOS."]
        #[method(registerNib:forCellWithReuseIdentifier:)]
        pub unsafe fn registerNib_forCellWithReuseIdentifier(
            &self,
            nib: Option<&UINib>,
            identifier: &NSString,
        );

        #[method(registerClass:forSupplementaryViewOfKind:withReuseIdentifier:)]
        pub unsafe fn registerClass_forSupplementaryViewOfKind_withReuseIdentifier(
            &self,
            view_class: Option<&AnyClass>,
            element_kind: &NSString,
            identifier: &NSString,
        );

        #[cfg(feature = "UINib")]
        #[deprecated = "Loading Interface Builder products will not be supported in a future version of visionOS."]
        #[method(registerNib:forSupplementaryViewOfKind:withReuseIdentifier:)]
        pub unsafe fn registerNib_forSupplementaryViewOfKind_withReuseIdentifier(
            &self,
            nib: Option<&UINib>,
            kind: &NSString,
            identifier: &NSString,
        );

        #[cfg(feature = "UICollectionViewCell")]
        #[method_id(@__retain_semantics Other dequeueReusableCellWithReuseIdentifier:forIndexPath:)]
        pub unsafe fn dequeueReusableCellWithReuseIdentifier_forIndexPath(
            &self,
            identifier: &NSString,
            index_path: &NSIndexPath,
        ) -> Retained<UICollectionViewCell>;

        #[cfg(feature = "UICollectionViewCell")]
        #[method_id(@__retain_semantics Other dequeueReusableSupplementaryViewOfKind:withReuseIdentifier:forIndexPath:)]
        pub unsafe fn dequeueReusableSupplementaryViewOfKind_withReuseIdentifier_forIndexPath(
            &self,
            element_kind: &NSString,
            identifier: &NSString,
            index_path: &NSIndexPath,
        ) -> Retained<UICollectionReusableView>;

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UICollectionViewItemRegistration"
        ))]
        #[method_id(@__retain_semantics Other dequeueConfiguredReusableCellWithRegistration:forIndexPath:item:)]
        pub unsafe fn dequeueConfiguredReusableCellWithRegistration_forIndexPath_item(
            &self,
            registration: &UICollectionViewCellRegistration,
            index_path: &NSIndexPath,
            item: &AnyObject,
        ) -> Retained<UICollectionViewCell>;

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UICollectionViewItemRegistration"
        ))]
        #[method_id(@__retain_semantics Other dequeueConfiguredReusableSupplementaryViewWithRegistration:forIndexPath:)]
        pub unsafe fn dequeueConfiguredReusableSupplementaryViewWithRegistration_forIndexPath(
            &self,
            registration: &UICollectionViewSupplementaryRegistration,
            index_path: &NSIndexPath,
        ) -> Retained<UICollectionReusableView>;

        #[method(allowsSelection)]
        pub unsafe fn allowsSelection(&self) -> bool;

        /// Setter for [`allowsSelection`][Self::allowsSelection].
        #[method(setAllowsSelection:)]
        pub unsafe fn setAllowsSelection(&self, allows_selection: bool);

        #[method(allowsMultipleSelection)]
        pub unsafe fn allowsMultipleSelection(&self) -> bool;

        /// Setter for [`allowsMultipleSelection`][Self::allowsMultipleSelection].
        #[method(setAllowsMultipleSelection:)]
        pub unsafe fn setAllowsMultipleSelection(&self, allows_multiple_selection: bool);

        #[method_id(@__retain_semantics Other indexPathsForSelectedItems)]
        pub unsafe fn indexPathsForSelectedItems(&self) -> Option<Retained<NSArray<NSIndexPath>>>;

        #[method(selectItemAtIndexPath:animated:scrollPosition:)]
        pub unsafe fn selectItemAtIndexPath_animated_scrollPosition(
            &self,
            index_path: Option<&NSIndexPath>,
            animated: bool,
            scroll_position: UICollectionViewScrollPosition,
        );

        #[method(deselectItemAtIndexPath:animated:)]
        pub unsafe fn deselectItemAtIndexPath_animated(
            &self,
            index_path: &NSIndexPath,
            animated: bool,
        );

        #[method(hasUncommittedUpdates)]
        pub unsafe fn hasUncommittedUpdates(&self) -> bool;

        #[method(reloadData)]
        pub unsafe fn reloadData(&self);

        #[cfg(feature = "UICollectionViewLayout")]
        #[method(setCollectionViewLayout:animated:)]
        pub unsafe fn setCollectionViewLayout_animated(
            &self,
            layout: &UICollectionViewLayout,
            animated: bool,
        );

        #[cfg(all(feature = "UICollectionViewLayout", feature = "block2"))]
        #[method(setCollectionViewLayout:animated:completion:)]
        pub unsafe fn setCollectionViewLayout_animated_completion(
            &self,
            layout: &UICollectionViewLayout,
            animated: bool,
            completion: Option<&block2::Block<dyn Fn(Bool)>>,
        );

        #[cfg(all(
            feature = "UICollectionViewLayout",
            feature = "UICollectionViewTransitionLayout",
            feature = "block2"
        ))]
        #[method_id(@__retain_semantics Other startInteractiveTransitionToCollectionViewLayout:completion:)]
        pub unsafe fn startInteractiveTransitionToCollectionViewLayout_completion(
            &self,
            layout: &UICollectionViewLayout,
            completion: UICollectionViewLayoutInteractiveTransitionCompletion,
        ) -> Retained<UICollectionViewTransitionLayout>;

        #[method(finishInteractiveTransition)]
        pub unsafe fn finishInteractiveTransition(&self);

        #[method(cancelInteractiveTransition)]
        pub unsafe fn cancelInteractiveTransition(&self);

        #[method(numberOfSections)]
        pub unsafe fn numberOfSections(&self) -> NSInteger;

        #[method(numberOfItemsInSection:)]
        pub unsafe fn numberOfItemsInSection(&self, section: NSInteger) -> NSInteger;

        #[cfg(feature = "UICollectionViewLayout")]
        #[method_id(@__retain_semantics Other layoutAttributesForItemAtIndexPath:)]
        pub unsafe fn layoutAttributesForItemAtIndexPath(
            &self,
            index_path: &NSIndexPath,
        ) -> Option<Retained<UICollectionViewLayoutAttributes>>;

        #[cfg(feature = "UICollectionViewLayout")]
        #[method_id(@__retain_semantics Other layoutAttributesForSupplementaryElementOfKind:atIndexPath:)]
        pub unsafe fn layoutAttributesForSupplementaryElementOfKind_atIndexPath(
            &self,
            kind: &NSString,
            index_path: &NSIndexPath,
        ) -> Option<Retained<UICollectionViewLayoutAttributes>>;

        #[cfg(feature = "objc2-core-foundation")]
        #[method_id(@__retain_semantics Other indexPathForItemAtPoint:)]
        pub unsafe fn indexPathForItemAtPoint(
            &self,
            point: CGPoint,
        ) -> Option<Retained<NSIndexPath>>;

        #[cfg(feature = "UICollectionViewCell")]
        #[method_id(@__retain_semantics Other indexPathForCell:)]
        pub unsafe fn indexPathForCell(
            &self,
            cell: &UICollectionViewCell,
        ) -> Option<Retained<NSIndexPath>>;

        #[cfg(feature = "UICollectionViewCell")]
        /// Gets the index path of the specified supplementary view.
        ///
        /// Parameter `supplementaryView`: The supplementary or decoration view whose index path you want.
        ///
        /// Returns: The index path of the specified view if it is in the collection view, else `nil`.
        #[method_id(@__retain_semantics Other indexPathForSupplementaryView:)]
        pub unsafe fn indexPathForSupplementaryView(
            &self,
            supplementary_view: &UICollectionReusableView,
        ) -> Option<Retained<NSIndexPath>>;

        #[cfg(feature = "UICollectionViewCell")]
        #[method_id(@__retain_semantics Other cellForItemAtIndexPath:)]
        pub unsafe fn cellForItemAtIndexPath(
            &self,
            index_path: &NSIndexPath,
        ) -> Option<Retained<UICollectionViewCell>>;

        #[cfg(feature = "UICollectionViewCell")]
        #[method_id(@__retain_semantics Other visibleCells)]
        pub unsafe fn visibleCells(&self) -> Retained<NSArray<UICollectionViewCell>>;

        #[method_id(@__retain_semantics Other indexPathsForVisibleItems)]
        pub unsafe fn indexPathsForVisibleItems(&self) -> Retained<NSArray<NSIndexPath>>;

        #[cfg(feature = "UICollectionViewCell")]
        #[method_id(@__retain_semantics Other supplementaryViewForElementKind:atIndexPath:)]
        pub unsafe fn supplementaryViewForElementKind_atIndexPath(
            &self,
            element_kind: &NSString,
            index_path: &NSIndexPath,
        ) -> Option<Retained<UICollectionReusableView>>;

        #[cfg(feature = "UICollectionViewCell")]
        #[method_id(@__retain_semantics Other visibleSupplementaryViewsOfKind:)]
        pub unsafe fn visibleSupplementaryViewsOfKind(
            &self,
            element_kind: &NSString,
        ) -> Retained<NSArray<UICollectionReusableView>>;

        #[method_id(@__retain_semantics Other indexPathsForVisibleSupplementaryElementsOfKind:)]
        pub unsafe fn indexPathsForVisibleSupplementaryElementsOfKind(
            &self,
            element_kind: &NSString,
        ) -> Retained<NSArray<NSIndexPath>>;

        #[method(scrollToItemAtIndexPath:atScrollPosition:animated:)]
        pub unsafe fn scrollToItemAtIndexPath_atScrollPosition_animated(
            &self,
            index_path: &NSIndexPath,
            scroll_position: UICollectionViewScrollPosition,
            animated: bool,
        );

        #[method(insertSections:)]
        pub unsafe fn insertSections(&self, sections: &NSIndexSet);

        #[method(deleteSections:)]
        pub unsafe fn deleteSections(&self, sections: &NSIndexSet);

        #[method(moveSection:toSection:)]
        pub unsafe fn moveSection_toSection(&self, section: NSInteger, new_section: NSInteger);

        #[method(reloadSections:)]
        pub unsafe fn reloadSections(&self, sections: &NSIndexSet);

        #[method(insertItemsAtIndexPaths:)]
        pub unsafe fn insertItemsAtIndexPaths(&self, index_paths: &NSArray<NSIndexPath>);

        #[method(deleteItemsAtIndexPaths:)]
        pub unsafe fn deleteItemsAtIndexPaths(&self, index_paths: &NSArray<NSIndexPath>);

        #[method(moveItemAtIndexPath:toIndexPath:)]
        pub unsafe fn moveItemAtIndexPath_toIndexPath(
            &self,
            index_path: &NSIndexPath,
            new_index_path: &NSIndexPath,
        );

        #[method(reloadItemsAtIndexPaths:)]
        pub unsafe fn reloadItemsAtIndexPaths(&self, index_paths: &NSArray<NSIndexPath>);

        #[method(reconfigureItemsAtIndexPaths:)]
        pub unsafe fn reconfigureItemsAtIndexPaths(&self, index_paths: &NSArray<NSIndexPath>);

        #[cfg(feature = "block2")]
        #[method(performBatchUpdates:completion:)]
        pub unsafe fn performBatchUpdates_completion(
            &self,
            updates: Option<&block2::Block<dyn Fn() + '_>>,
            completion: Option<&block2::Block<dyn Fn(Bool)>>,
        );

        #[method(beginInteractiveMovementForItemAtIndexPath:)]
        pub unsafe fn beginInteractiveMovementForItemAtIndexPath(
            &self,
            index_path: &NSIndexPath,
        ) -> bool;

        #[cfg(feature = "objc2-core-foundation")]
        #[method(updateInteractiveMovementTargetPosition:)]
        pub unsafe fn updateInteractiveMovementTargetPosition(&self, target_position: CGPoint);

        #[method(endInteractiveMovement)]
        pub unsafe fn endInteractiveMovement(&self);

        #[method(cancelInteractiveMovement)]
        pub unsafe fn cancelInteractiveMovement(&self);

        #[method(remembersLastFocusedIndexPath)]
        pub unsafe fn remembersLastFocusedIndexPath(&self) -> bool;

        /// Setter for [`remembersLastFocusedIndexPath`][Self::remembersLastFocusedIndexPath].
        #[method(setRemembersLastFocusedIndexPath:)]
        pub unsafe fn setRemembersLastFocusedIndexPath(
            &self,
            remembers_last_focused_index_path: bool,
        );

        /// When enabled, the collection view ensures that selection is automatically triggered when focus moves to a cell.
        /// Defaults to a system derived value based on platform and other properties of the collection view.
        #[method(selectionFollowsFocus)]
        pub unsafe fn selectionFollowsFocus(&self) -> bool;

        /// Setter for [`selectionFollowsFocus`][Self::selectionFollowsFocus].
        #[method(setSelectionFollowsFocus:)]
        pub unsafe fn setSelectionFollowsFocus(&self, selection_follows_focus: bool);

        /// Determines if the collection view allows its cells to become focused.
        /// When collectionView:canFocusItemAtIndexPath: is implemented, its return value takes precedence over this method.
        /// Defaults to a system derived value based on platform and other properties of the collection view.
        #[method(allowsFocus)]
        pub unsafe fn allowsFocus(&self) -> bool;

        /// Setter for [`allowsFocus`][Self::allowsFocus].
        #[method(setAllowsFocus:)]
        pub unsafe fn setAllowsFocus(&self, allows_focus: bool);

        /// Determines if the collection view allows its cells to become focused while editing.
        /// When collectionView:canFocusItemAtIndexPath: is implemented, its return value takes precedence over this method.
        /// Defaults to a system derived value based on platform and other properties of the collection view.
        #[method(allowsFocusDuringEditing)]
        pub unsafe fn allowsFocusDuringEditing(&self) -> bool;

        /// Setter for [`allowsFocusDuringEditing`][Self::allowsFocusDuringEditing].
        #[method(setAllowsFocusDuringEditing:)]
        pub unsafe fn setAllowsFocusDuringEditing(&self, allows_focus_during_editing: bool);

        #[method(hasActiveDrag)]
        pub unsafe fn hasActiveDrag(&self) -> bool;

        #[method(hasActiveDrop)]
        pub unsafe fn hasActiveDrop(&self) -> bool;

        #[method(isEditing)]
        pub unsafe fn isEditing(&self) -> bool;

        /// Setter for [`isEditing`][Self::isEditing].
        #[method(setEditing:)]
        pub unsafe fn setEditing(&self, editing: bool);

        #[method(allowsSelectionDuringEditing)]
        pub unsafe fn allowsSelectionDuringEditing(&self) -> bool;

        /// Setter for [`allowsSelectionDuringEditing`][Self::allowsSelectionDuringEditing].
        #[method(setAllowsSelectionDuringEditing:)]
        pub unsafe fn setAllowsSelectionDuringEditing(&self, allows_selection_during_editing: bool);

        #[method(allowsMultipleSelectionDuringEditing)]
        pub unsafe fn allowsMultipleSelectionDuringEditing(&self) -> bool;

        /// Setter for [`allowsMultipleSelectionDuringEditing`][Self::allowsMultipleSelectionDuringEditing].
        #[method(setAllowsMultipleSelectionDuringEditing:)]
        pub unsafe fn setAllowsMultipleSelectionDuringEditing(
            &self,
            allows_multiple_selection_during_editing: bool,
        );
    }
);

extern_methods!(
    /// Methods declared on superclass `UIView`
    #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
    unsafe impl UICollectionView {
        #[cfg(feature = "objc2-core-foundation")]
        #[method_id(@__retain_semantics Init initWithFrame:)]
        pub unsafe fn initWithFrame(this: Allocated<Self>, frame: CGRect) -> Retained<Self>;
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
    unsafe impl UICollectionView {
        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new(mtm: MainThreadMarker) -> Retained<Self>;
    }
);

extern_methods!(
    /// UIDragAndDrop
    #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
    unsafe impl UICollectionView {}
);

#[cfg(all(
    feature = "UIResponder",
    feature = "UIScrollView",
    feature = "UISpringLoadedInteractionSupporting",
    feature = "UIView"
))]
unsafe impl UISpringLoadedInteractionSupporting for UICollectionView {}

extern_protocol!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdragdelegate?language=objc)
    pub unsafe trait UICollectionViewDragDelegate:
        NSObjectProtocol + MainThreadOnly
    {
        #[cfg(all(
            feature = "UIDragItem",
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[method_id(@__retain_semantics Other collectionView:itemsForBeginningDragSession:atIndexPath:)]
        unsafe fn collectionView_itemsForBeginningDragSession_atIndexPath(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDragSession>,
            index_path: &NSIndexPath,
        ) -> Retained<NSArray<UIDragItem>>;

        #[cfg(all(
            feature = "UIDragItem",
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView",
            feature = "objc2-core-foundation"
        ))]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:itemsForAddingToDragSession:atIndexPath:point:)]
        unsafe fn collectionView_itemsForAddingToDragSession_atIndexPath_point(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDragSession>,
            index_path: &NSIndexPath,
            point: CGPoint,
        ) -> Retained<NSArray<UIDragItem>>;

        #[cfg(all(
            feature = "UIDragPreviewParameters",
            feature = "UIPreviewParameters",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:dragPreviewParametersForItemAtIndexPath:)]
        unsafe fn collectionView_dragPreviewParametersForItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> Option<Retained<UIDragPreviewParameters>>;

        #[cfg(all(
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:dragSessionWillBegin:)]
        unsafe fn collectionView_dragSessionWillBegin(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDragSession>,
        );

        #[cfg(all(
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:dragSessionDidEnd:)]
        unsafe fn collectionView_dragSessionDidEnd(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDragSession>,
        );

        #[cfg(all(
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:dragSessionAllowsMoveOperation:)]
        unsafe fn collectionView_dragSessionAllowsMoveOperation(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDragSession>,
        ) -> bool;

        #[cfg(all(
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:dragSessionIsRestrictedToDraggingApplication:)]
        unsafe fn collectionView_dragSessionIsRestrictedToDraggingApplication(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDragSession>,
        ) -> bool;
    }

    unsafe impl ProtocolType for dyn UICollectionViewDragDelegate {}
);

extern_protocol!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdropdelegate?language=objc)
    pub unsafe trait UICollectionViewDropDelegate:
        NSObjectProtocol + MainThreadOnly
    {
        #[cfg(all(feature = "UIResponder", feature = "UIScrollView", feature = "UIView"))]
        #[method(collectionView:performDropWithCoordinator:)]
        unsafe fn collectionView_performDropWithCoordinator(
            &self,
            collection_view: &UICollectionView,
            coordinator: &ProtocolObject<dyn UICollectionViewDropCoordinator>,
        );

        #[cfg(all(
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:canHandleDropSession:)]
        unsafe fn collectionView_canHandleDropSession(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDropSession>,
        ) -> bool;

        #[cfg(all(
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:dropSessionDidEnter:)]
        unsafe fn collectionView_dropSessionDidEnter(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDropSession>,
        );

        #[cfg(all(
            feature = "UIDragSession",
            feature = "UIDropInteraction",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:dropSessionDidUpdate:withDestinationIndexPath:)]
        unsafe fn collectionView_dropSessionDidUpdate_withDestinationIndexPath(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDropSession>,
            destination_index_path: Option<&NSIndexPath>,
        ) -> Retained<UICollectionViewDropProposal>;

        #[cfg(all(
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:dropSessionDidExit:)]
        unsafe fn collectionView_dropSessionDidExit(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDropSession>,
        );

        #[cfg(all(
            feature = "UIDragSession",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method(collectionView:dropSessionDidEnd:)]
        unsafe fn collectionView_dropSessionDidEnd(
            &self,
            collection_view: &UICollectionView,
            session: &ProtocolObject<dyn UIDropSession>,
        );

        #[cfg(all(
            feature = "UIDragPreviewParameters",
            feature = "UIPreviewParameters",
            feature = "UIResponder",
            feature = "UIScrollView",
            feature = "UIView"
        ))]
        #[optional]
        #[method_id(@__retain_semantics Other collectionView:dropPreviewParametersForItemAtIndexPath:)]
        unsafe fn collectionView_dropPreviewParametersForItemAtIndexPath(
            &self,
            collection_view: &UICollectionView,
            index_path: &NSIndexPath,
        ) -> Option<Retained<UIDragPreviewParameters>>;
    }

    unsafe impl ProtocolType for dyn UICollectionViewDropDelegate {}
);

/// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdropintent?language=objc)
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct UICollectionViewDropIntent(pub NSInteger);
impl UICollectionViewDropIntent {
    #[doc(alias = "UICollectionViewDropIntentUnspecified")]
    pub const Unspecified: Self = Self(0);
    #[doc(alias = "UICollectionViewDropIntentInsertAtDestinationIndexPath")]
    pub const InsertAtDestinationIndexPath: Self = Self(1);
    #[doc(alias = "UICollectionViewDropIntentInsertIntoDestinationIndexPath")]
    pub const InsertIntoDestinationIndexPath: Self = Self(2);
}

unsafe impl Encode for UICollectionViewDropIntent {
    const ENCODING: Encoding = NSInteger::ENCODING;
}

unsafe impl RefEncode for UICollectionViewDropIntent {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdropproposal?language=objc)
    #[unsafe(super(UIDropProposal, NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "UIDropInteraction")]
    pub struct UICollectionViewDropProposal;
);

#[cfg(feature = "UIDropInteraction")]
unsafe impl NSCopying for UICollectionViewDropProposal {}

#[cfg(feature = "UIDropInteraction")]
unsafe impl CopyingHelper for UICollectionViewDropProposal {
    type Result = Self;
}

#[cfg(feature = "UIDropInteraction")]
unsafe impl NSObjectProtocol for UICollectionViewDropProposal {}

extern_methods!(
    #[cfg(feature = "UIDropInteraction")]
    unsafe impl UICollectionViewDropProposal {
        #[method_id(@__retain_semantics Init initWithDropOperation:intent:)]
        pub unsafe fn initWithDropOperation_intent(
            this: Allocated<Self>,
            operation: UIDropOperation,
            intent: UICollectionViewDropIntent,
        ) -> Retained<Self>;

        #[method(intent)]
        pub unsafe fn intent(&self) -> UICollectionViewDropIntent;
    }
);

extern_methods!(
    /// Methods declared on superclass `UIDropProposal`
    #[cfg(feature = "UIDropInteraction")]
    unsafe impl UICollectionViewDropProposal {
        #[method_id(@__retain_semantics Init initWithDropOperation:)]
        pub unsafe fn initWithDropOperation(
            this: Allocated<Self>,
            operation: UIDropOperation,
        ) -> Retained<Self>;

        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new(mtm: MainThreadMarker) -> Retained<Self>;
    }
);

extern_protocol!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdropcoordinator?language=objc)
    pub unsafe trait UICollectionViewDropCoordinator:
        NSObjectProtocol + MainThreadOnly
    {
        #[method_id(@__retain_semantics Other items)]
        unsafe fn items(&self) -> Retained<NSArray<ProtocolObject<dyn UICollectionViewDropItem>>>;

        #[method_id(@__retain_semantics Other destinationIndexPath)]
        unsafe fn destinationIndexPath(&self) -> Option<Retained<NSIndexPath>>;

        #[cfg(feature = "UIDropInteraction")]
        #[method_id(@__retain_semantics Other proposal)]
        unsafe fn proposal(&self) -> Retained<UICollectionViewDropProposal>;

        #[cfg(feature = "UIDragSession")]
        #[method_id(@__retain_semantics Other session)]
        unsafe fn session(&self) -> Retained<ProtocolObject<dyn UIDropSession>>;

        #[cfg(all(feature = "UIDragInteraction", feature = "UIDragItem"))]
        #[method_id(@__retain_semantics Other dropItem:toPlaceholder:)]
        unsafe fn dropItem_toPlaceholder(
            &self,
            drag_item: &UIDragItem,
            placeholder: &UICollectionViewDropPlaceholder,
        ) -> Retained<ProtocolObject<dyn UICollectionViewDropPlaceholderContext>>;

        #[cfg(all(feature = "UIDragInteraction", feature = "UIDragItem"))]
        #[method_id(@__retain_semantics Other dropItem:toItemAtIndexPath:)]
        unsafe fn dropItem_toItemAtIndexPath(
            &self,
            drag_item: &UIDragItem,
            index_path: &NSIndexPath,
        ) -> Retained<ProtocolObject<dyn UIDragAnimating>>;

        #[cfg(all(
            feature = "UIDragInteraction",
            feature = "UIDragItem",
            feature = "objc2-core-foundation"
        ))]
        #[method_id(@__retain_semantics Other dropItem:intoItemAtIndexPath:rect:)]
        unsafe fn dropItem_intoItemAtIndexPath_rect(
            &self,
            drag_item: &UIDragItem,
            index_path: &NSIndexPath,
            rect: CGRect,
        ) -> Retained<ProtocolObject<dyn UIDragAnimating>>;

        #[cfg(all(
            feature = "UIDragInteraction",
            feature = "UIDragItem",
            feature = "UITargetedDragPreview",
            feature = "UITargetedPreview"
        ))]
        #[method_id(@__retain_semantics Other dropItem:toTarget:)]
        unsafe fn dropItem_toTarget(
            &self,
            drag_item: &UIDragItem,
            target: &UIDragPreviewTarget,
        ) -> Retained<ProtocolObject<dyn UIDragAnimating>>;
    }

    unsafe impl ProtocolType for dyn UICollectionViewDropCoordinator {}
);

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewplaceholder?language=objc)
    #[unsafe(super(NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct UICollectionViewPlaceholder;
);

unsafe impl NSObjectProtocol for UICollectionViewPlaceholder {}

extern_methods!(
    unsafe impl UICollectionViewPlaceholder {
        #[method_id(@__retain_semantics Init initWithInsertionIndexPath:reuseIdentifier:)]
        pub unsafe fn initWithInsertionIndexPath_reuseIdentifier(
            this: Allocated<Self>,
            insertion_index_path: &NSIndexPath,
            reuse_identifier: &NSString,
        ) -> Retained<Self>;

        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new(mtm: MainThreadMarker) -> Retained<Self>;

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIResponder",
            feature = "UIView",
            feature = "block2"
        ))]
        #[method(cellUpdateHandler)]
        pub unsafe fn cellUpdateHandler(
            &self,
        ) -> *mut block2::Block<dyn Fn(NonNull<UICollectionViewCell>)>;

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIResponder",
            feature = "UIView",
            feature = "block2"
        ))]
        /// Setter for [`cellUpdateHandler`][Self::cellUpdateHandler].
        #[method(setCellUpdateHandler:)]
        pub unsafe fn setCellUpdateHandler(
            &self,
            cell_update_handler: Option<&block2::Block<dyn Fn(NonNull<UICollectionViewCell>)>>,
        );
    }
);

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdropplaceholder?language=objc)
    #[unsafe(super(UICollectionViewPlaceholder, NSObject))]
    #[thread_kind = MainThreadOnly]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct UICollectionViewDropPlaceholder;
);

unsafe impl NSObjectProtocol for UICollectionViewDropPlaceholder {}

extern_methods!(
    unsafe impl UICollectionViewDropPlaceholder {
        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIDragPreviewParameters",
            feature = "UIPreviewParameters",
            feature = "UIResponder",
            feature = "UIView",
            feature = "block2"
        ))]
        #[method(previewParametersProvider)]
        pub unsafe fn previewParametersProvider(
            &self,
        ) -> *mut block2::Block<dyn Fn(NonNull<UICollectionViewCell>) -> *mut UIDragPreviewParameters>;

        #[cfg(all(
            feature = "UICollectionViewCell",
            feature = "UIDragPreviewParameters",
            feature = "UIPreviewParameters",
            feature = "UIResponder",
            feature = "UIView",
            feature = "block2"
        ))]
        /// Setter for [`previewParametersProvider`][Self::previewParametersProvider].
        #[method(setPreviewParametersProvider:)]
        pub unsafe fn setPreviewParametersProvider(
            &self,
            preview_parameters_provider: Option<
                &block2::Block<
                    dyn Fn(NonNull<UICollectionViewCell>) -> *mut UIDragPreviewParameters,
                >,
            >,
        );
    }
);

extern_methods!(
    /// Methods declared on superclass `UICollectionViewPlaceholder`
    unsafe impl UICollectionViewDropPlaceholder {
        #[method_id(@__retain_semantics Init initWithInsertionIndexPath:reuseIdentifier:)]
        pub unsafe fn initWithInsertionIndexPath_reuseIdentifier(
            this: Allocated<Self>,
            insertion_index_path: &NSIndexPath,
            reuse_identifier: &NSString,
        ) -> Retained<Self>;

        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new(mtm: MainThreadMarker) -> Retained<Self>;
    }
);

extern_protocol!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdropitem?language=objc)
    pub unsafe trait UICollectionViewDropItem: NSObjectProtocol + MainThreadOnly {
        #[cfg(feature = "UIDragItem")]
        #[method_id(@__retain_semantics Other dragItem)]
        unsafe fn dragItem(&self) -> Retained<UIDragItem>;

        #[method_id(@__retain_semantics Other sourceIndexPath)]
        unsafe fn sourceIndexPath(&self) -> Option<Retained<NSIndexPath>>;

        #[cfg(feature = "objc2-core-foundation")]
        #[method(previewSize)]
        unsafe fn previewSize(&self) -> CGSize;
    }

    unsafe impl ProtocolType for dyn UICollectionViewDropItem {}
);

extern_protocol!(
    /// [Apple's documentation](https://developer.apple.com/documentation/uikit/uicollectionviewdropplaceholdercontext?language=objc)
    #[cfg(feature = "UIDragInteraction")]
    pub unsafe trait UICollectionViewDropPlaceholderContext:
        UIDragAnimating + MainThreadOnly
    {
        #[cfg(feature = "UIDragItem")]
        #[method_id(@__retain_semantics Other dragItem)]
        unsafe fn dragItem(&self) -> Retained<UIDragItem>;

        #[cfg(feature = "block2")]
        #[method(commitInsertionWithDataSourceUpdates:)]
        unsafe fn commitInsertionWithDataSourceUpdates(
            &self,
            data_source_updates: &block2::Block<dyn Fn(NonNull<NSIndexPath>) + '_>,
        ) -> bool;

        #[method(deletePlaceholder)]
        unsafe fn deletePlaceholder(&self) -> bool;

        #[method(setNeedsCellUpdate)]
        unsafe fn setNeedsCellUpdate(&self);
    }

    #[cfg(feature = "UIDragInteraction")]
    unsafe impl ProtocolType for dyn UICollectionViewDropPlaceholderContext {}
);
