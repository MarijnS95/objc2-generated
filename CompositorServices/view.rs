//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::cell::UnsafeCell;
use core::marker::{PhantomData, PhantomPinned};
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-metal")]
use objc2_metal::*;

use crate::*;

/// [Apple's documentation](https://developer.apple.com/documentation/compositorservices/cp_view_texture_map?language=objc)
#[repr(C)]
#[derive(Debug)]
pub struct cp_view_texture_map {
    inner: [u8; 0],
    _p: UnsafeCell<PhantomData<(*const UnsafeCell<()>, PhantomPinned)>>,
}

unsafe impl RefEncode for cp_view_texture_map {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Encoding::Struct("cp_view_texture_map", &[]));
}

/// [Apple's documentation](https://developer.apple.com/documentation/compositorservices/cp_view_texture_map_t?language=objc)
pub type cp_view_texture_map_t = *mut cp_view_texture_map;

extern "C-unwind" {
    /// Returns the index of the view’s textures in the drawable.
    ///
    /// - Parameters:
    /// - view_texture_map: The texture map for your view.
    /// - Returns: The index of the color or depth texture in the drawable.
    ///
    /// Pass the returned index to the ``cp_drawable_get_color_texture``
    /// or ``cp_drawable_get_depth_texture`` function.
    pub fn cp_view_texture_map_get_texture_index(view_texture_map: cp_view_texture_map_t) -> usize;
}

extern "C-unwind" {
    /// Returns the index of the view’s texture in an array-based texture type.
    ///
    /// - Parameters:
    /// - view_texture_map: The texture map for your view.
    /// - Returns: The index of the view’s texture in an array-based texture type.
    ///
    /// Use the returned index to retrieve the view’s texture when the texture
    /// type is
    /// <doc
    /// ://com.apple.documentation/documentation/metal/mtltexturetype/type2darray>.
    /// When configuring your render pass descriptor, specify the index in the
    /// <doc
    /// ://com.apple.documentation/documentation/metal/mtlrenderpassattachmentdescriptor/1437914-slice>
    /// property of the descriptor’s color and depth attachments.
    ///
    /// To request an array-based texture from your layer, configure your layer
    /// with the ``cp_layer_renderer_layout/cp_layer_renderer_layout_dedicated`` layout option.
    pub fn cp_view_texture_map_get_slice_index(view_texture_map: cp_view_texture_map_t) -> usize;
}

extern "C-unwind" {
    /// Returns the portion of the texture that the view uses to draw its content.
    ///
    /// - Parameters:
    /// - view_texture_map: The texture map for your view.
    /// - Returns: A Metal viewport that specifies the view’s size and location
    /// in the texture.
    ///
    /// Call this function to get the size of the view and its location within
    /// the texture. If the layer dedicates a separate texture to each view,
    /// the texture bounds and view bounds match. However, if the layer uses a
    /// shared or layered texture, the view’s location or other slice index
    /// might differ.
    #[cfg(feature = "objc2-metal")]
    pub fn cp_view_texture_map_get_viewport(view_texture_map: cp_view_texture_map_t)
        -> MTLViewport;
}

/// [Apple's documentation](https://developer.apple.com/documentation/compositorservices/cp_view?language=objc)
#[repr(C)]
#[derive(Debug)]
pub struct cp_view {
    inner: [u8; 0],
    _p: UnsafeCell<PhantomData<(*const UnsafeCell<()>, PhantomPinned)>>,
}

unsafe impl RefEncode for cp_view {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Encoding::Struct("cp_view", &[]));
}

/// [Apple's documentation](https://developer.apple.com/documentation/compositorservices/cp_view_t?language=objc)
pub type cp_view_t = *mut cp_view;

extern "C-unwind" {
    /// Returns the texture map for this view.
    ///
    /// - Parameters:
    /// - view: The view with the texture map.
    /// - Returns: The texture map for the layer assigned to this view.
    ///
    /// Use the texture map to fetch additional information you need to
    /// draw your content. For example, use it to fetch the rectangle to
    /// use for drawing in the associated texture.
    pub fn cp_view_get_view_texture_map(view: cp_view_t) -> cp_view_texture_map_t;
}
