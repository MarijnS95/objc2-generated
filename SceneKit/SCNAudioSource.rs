//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
#[cfg(feature = "objc2-avf-audio")]
use objc2_avf_audio::*;
use objc2_foundation::*;

use crate::*;

extern_class!(
    /// The SCNAudioSource class represents an audio source that can be added to a SCNNode.
    ///
    /// See also [Apple's documentation](https://developer.apple.com/documentation/scenekit/scnaudiosource?language=objc)
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct SCNAudioSource;
);

unsafe impl NSCoding for SCNAudioSource {}

unsafe impl NSCopying for SCNAudioSource {}

unsafe impl CopyingHelper for SCNAudioSource {
    type Result = Self;
}

unsafe impl NSObjectProtocol for SCNAudioSource {}

unsafe impl NSSecureCoding for SCNAudioSource {}

extern_methods!(
    unsafe impl SCNAudioSource {
        /// Convenience initializer that creates an AVAudioNode from the named audio asset in the main bundle.
        #[method_id(initWithFileNamed:)]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithFileNamed(
            this: Allocated<Self>,
            name: &NSString,
        ) -> Option<Retained<Self>>;

        /// Convenience initializer that creates an AVAudioNode from the URL that contain a audio asset.
        #[method_id(initWithURL:)]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithURL(this: Allocated<Self>, url: &NSURL) -> Option<Retained<Self>>;

        /// Convenience class initializer that caches audioSources.
        #[method_id(audioSourceNamed:)]
        #[unsafe(method_family = none)]
        pub unsafe fn audioSourceNamed(file_name: &NSString) -> Option<Retained<Self>>;

        /// Marks the audio source as positional so that the audio mix considers relative position and velocity with regards to the SCNSceneRenderer's current listener node. Defaults to YES.
        ///
        /// shouldStream must be set to false in order to get positional audio (see shouldStream).
        ///
        /// See: SCNSceneRenderer audioListener.
        #[method(isPositional)]
        pub unsafe fn isPositional(&self) -> bool;

        /// Setter for [`isPositional`][Self::isPositional].
        #[method(setPositional:)]
        pub unsafe fn setPositional(&self, positional: bool);

        /// The default volume for this audio buffer. Default is 1.0 (full volume).
        #[method(volume)]
        pub unsafe fn volume(&self) -> c_float;

        /// Setter for [`volume`][Self::volume].
        #[method(setVolume:)]
        pub unsafe fn setVolume(&self, volume: c_float);

        /// The default rate for this audio buffer. Default is 1.0 (original rate of the audio source).
        #[method(rate)]
        pub unsafe fn rate(&self) -> c_float;

        /// Setter for [`rate`][Self::rate].
        #[method(setRate:)]
        pub unsafe fn setRate(&self, rate: c_float);

        /// The default reverbBlend for this audio buffer. Default is 0.0 (no sound is sent to the reverb).
        #[method(reverbBlend)]
        pub unsafe fn reverbBlend(&self) -> c_float;

        /// Setter for [`reverbBlend`][Self::reverbBlend].
        #[method(setReverbBlend:)]
        pub unsafe fn setReverbBlend(&self, reverb_blend: c_float);

        /// Specifies whether the audio source should loop or not. Defaults to NO.
        #[method(loops)]
        pub unsafe fn loops(&self) -> bool;

        /// Setter for [`loops`][Self::loops].
        #[method(setLoops:)]
        pub unsafe fn setLoops(&self, loops: bool);

        /// Specifies whether the audio source should be streamed or not. Defaults to NO.
        #[method(shouldStream)]
        pub unsafe fn shouldStream(&self) -> bool;

        /// Setter for [`shouldStream`][Self::shouldStream].
        #[method(setShouldStream:)]
        pub unsafe fn setShouldStream(&self, should_stream: bool);

        /// Load and uncompress the audio source in memory. This method has no effect if "shouldStream" is set to YES or if the audio source is already loaded.
        ///
        /// This method let you preload your audio sources. If an audio source is not preloaded, it will be loaded anyway when playing it.
        #[method(load)]
        pub unsafe fn load(&self);
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    unsafe impl SCNAudioSource {
        #[method_id(init)]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(new)]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/scenekit/scnaudioplayer?language=objc)
    #[unsafe(super(NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    pub struct SCNAudioPlayer;
);

unsafe impl NSObjectProtocol for SCNAudioPlayer {}

extern_methods!(
    unsafe impl SCNAudioPlayer {
        #[method_id(init)]
        #[unsafe(method_family = init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        /// Init an audio player with a source. Most people should use audioPlayerWithSource as it permits to recycle previous players instead of creating new ones for each instance.
        #[method_id(initWithSource:)]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithSource(
            this: Allocated<Self>,
            source: &SCNAudioSource,
        ) -> Retained<Self>;

        #[cfg(feature = "objc2-avf-audio")]
        /// Init an audio player with an AVAudioNode. Most people should use audioPlayerWithAVAudioNode as it permits to recycle previous players instead of creating new ones for each instance.
        #[method_id(initWithAVAudioNode:)]
        #[unsafe(method_family = init)]
        pub unsafe fn initWithAVAudioNode(
            this: Allocated<Self>,
            audio_node: &AVAudioNode,
        ) -> Retained<Self>;

        /// Create an audio player with a source.
        #[method_id(audioPlayerWithSource:)]
        #[unsafe(method_family = none)]
        pub unsafe fn audioPlayerWithSource(source: &SCNAudioSource) -> Retained<Self>;

        #[cfg(feature = "objc2-avf-audio")]
        /// Create an audio player with a custom AVAudioNode instance.
        #[method_id(audioPlayerWithAVAudioNode:)]
        #[unsafe(method_family = none)]
        pub unsafe fn audioPlayerWithAVAudioNode(audio_node: &AVAudioNode) -> Retained<Self>;

        #[cfg(feature = "block2")]
        /// This block is called when the playback starts in case a valid audio source is present.
        #[method(willStartPlayback)]
        pub unsafe fn willStartPlayback(&self) -> *mut block2::Block<dyn Fn()>;

        #[cfg(feature = "block2")]
        /// Setter for [`willStartPlayback`][Self::willStartPlayback].
        #[method(setWillStartPlayback:)]
        pub unsafe fn setWillStartPlayback(
            &self,
            will_start_playback: Option<&block2::Block<dyn Fn()>>,
        );

        #[cfg(feature = "block2")]
        /// This block is called when the playback stops in case a valid audio source is present.
        #[method(didFinishPlayback)]
        pub unsafe fn didFinishPlayback(&self) -> *mut block2::Block<dyn Fn()>;

        #[cfg(feature = "block2")]
        /// Setter for [`didFinishPlayback`][Self::didFinishPlayback].
        #[method(setDidFinishPlayback:)]
        pub unsafe fn setDidFinishPlayback(
            &self,
            did_finish_playback: Option<&block2::Block<dyn Fn()>>,
        );

        #[cfg(feature = "objc2-avf-audio")]
        /// The audioNode. If this player was not initialised with a custom AVAudioNode this contains the internal audio player node used by scene kit internally.
        #[method_id(audioNode)]
        #[unsafe(method_family = none)]
        pub unsafe fn audioNode(&self) -> Option<Retained<AVAudioNode>>;

        /// The audioSource if there is one.
        #[method_id(audioSource)]
        #[unsafe(method_family = none)]
        pub unsafe fn audioSource(&self) -> Option<Retained<SCNAudioSource>>;
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    unsafe impl SCNAudioPlayer {
        #[method_id(new)]
        #[unsafe(method_family = new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);

extern_methods!(
    /// SCNAudioSupport
    #[cfg(feature = "SCNNode")]
    unsafe impl SCNNode {
        /// Add an audio player to the node and starts playing it right away.
        #[method(addAudioPlayer:)]
        pub unsafe fn addAudioPlayer(&self, player: &SCNAudioPlayer);

        /// Remove all audio players from this node and stop playing them.
        #[method(removeAllAudioPlayers)]
        pub unsafe fn removeAllAudioPlayers(&self);

        /// Remove the given audio player from this node and stop playing it.
        #[method(removeAudioPlayer:)]
        pub unsafe fn removeAudioPlayer(&self, player: &SCNAudioPlayer);

        /// Get an array with all the audio players connected and playing on this node.
        #[method_id(audioPlayers)]
        #[unsafe(method_family = none)]
        pub unsafe fn audioPlayers(&self) -> Retained<NSArray<SCNAudioPlayer>>;
    }
);
