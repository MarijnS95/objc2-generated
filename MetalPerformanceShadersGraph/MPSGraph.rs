//! This file has been automatically generated by `objc2`'s `header-translator`.
//! DO NOT EDIT
use core::ffi::*;
use core::ptr::NonNull;
use objc2::__framework_prelude::*;
use objc2_foundation::*;
use objc2_metal::*;
#[cfg(feature = "objc2-metal-performance-shaders")]
use objc2_metal_performance_shaders::*;

use crate::*;

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphoptions?language=objc)
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct MPSGraphOptions(pub u64);
impl MPSGraphOptions {
    #[doc(alias = "MPSGraphOptionsNone")]
    pub const None: Self = Self(0);
    #[doc(alias = "MPSGraphOptionsSynchronizeResults")]
    pub const SynchronizeResults: Self = Self(1);
    #[doc(alias = "MPSGraphOptionsVerbose")]
    pub const Verbose: Self = Self(2);
    #[doc(alias = "MPSGraphOptionsDefault")]
    pub const Default: Self = Self(MPSGraphOptions::SynchronizeResults.0);
}

unsafe impl Encode for MPSGraphOptions {
    const ENCODING: Encoding = u64::ENCODING;
}

unsafe impl RefEncode for MPSGraphOptions {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphoptimization?language=objc)
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct MPSGraphOptimization(pub u64);
impl MPSGraphOptimization {
    #[doc(alias = "MPSGraphOptimizationLevel0")]
    pub const Level0: Self = Self(0);
    #[doc(alias = "MPSGraphOptimizationLevel1")]
    pub const Level1: Self = Self(1);
}

unsafe impl Encode for MPSGraphOptimization {
    const ENCODING: Encoding = u64::ENCODING;
}

unsafe impl RefEncode for MPSGraphOptimization {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphoptimizationprofile?language=objc)
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct MPSGraphOptimizationProfile(pub u64);
impl MPSGraphOptimizationProfile {
    #[doc(alias = "MPSGraphOptimizationProfilePerformance")]
    pub const Performance: Self = Self(0);
    #[doc(alias = "MPSGraphOptimizationProfilePowerEfficiency")]
    pub const PowerEfficiency: Self = Self(1);
}

unsafe impl Encode for MPSGraphOptimizationProfile {
    const ENCODING: Encoding = u64::ENCODING;
}

unsafe impl RefEncode for MPSGraphOptimizationProfile {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphexecutionstage?language=objc)
// NS_ENUM
#[repr(transparent)]
#[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]
pub struct MPSGraphExecutionStage(pub u64);
impl MPSGraphExecutionStage {
    #[doc(alias = "MPSGraphExecutionStageCompleted")]
    pub const Completed: Self = Self(0);
}

unsafe impl Encode for MPSGraphExecutionStage {
    const ENCODING: Encoding = u64::ENCODING;
}

unsafe impl RefEncode for MPSGraphExecutionStage {
    const ENCODING_REF: Encoding = Encoding::Pointer(&Self::ENCODING);
}

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphtensordatadictionary?language=objc)
#[cfg(all(
    feature = "MPSGraphCore",
    feature = "MPSGraphTensor",
    feature = "MPSGraphTensorData"
))]
pub type MPSGraphTensorDataDictionary = NSDictionary<MPSGraphTensor, MPSGraphTensorData>;

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphtensorshapedtypedictionary?language=objc)
#[cfg(all(feature = "MPSGraphCore", feature = "MPSGraphTensor"))]
pub type MPSGraphTensorShapedTypeDictionary = NSDictionary<MPSGraphTensor, MPSGraphShapedType>;

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphcompletionhandler?language=objc)
#[cfg(all(
    feature = "MPSGraphCore",
    feature = "MPSGraphTensor",
    feature = "MPSGraphTensorData",
    feature = "block2"
))]
pub type MPSGraphCompletionHandler =
    *mut block2::Block<dyn Fn(NonNull<MPSGraphTensorDataDictionary>, *mut NSError)>;

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphscheduledhandler?language=objc)
#[cfg(all(
    feature = "MPSGraphCore",
    feature = "MPSGraphTensor",
    feature = "MPSGraphTensorData",
    feature = "block2"
))]
pub type MPSGraphScheduledHandler =
    *mut block2::Block<dyn Fn(NonNull<MPSGraphTensorDataDictionary>, *mut NSError)>;

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphcompilationcompletionhandler?language=objc)
#[cfg(all(
    feature = "MPSGraphCore",
    feature = "MPSGraphExecutable",
    feature = "block2"
))]
pub type MPSGraphCompilationCompletionHandler =
    *mut block2::Block<dyn Fn(NonNull<MPSGraphExecutable>, *mut NSError)>;

/// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphcallablemap?language=objc)
#[cfg(all(feature = "MPSGraphCore", feature = "MPSGraphExecutable"))]
pub type MPSGraphCallableMap = NSDictionary<NSString, MPSGraphExecutable>;

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphcompilationdescriptor?language=objc)
    #[unsafe(super(MPSGraphObject, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "MPSGraphCore")]
    pub struct MPSGraphCompilationDescriptor;
);

#[cfg(feature = "MPSGraphCore")]
unsafe impl NSCopying for MPSGraphCompilationDescriptor {}

#[cfg(feature = "MPSGraphCore")]
unsafe impl CopyingHelper for MPSGraphCompilationDescriptor {
    type Result = Self;
}

#[cfg(feature = "MPSGraphCore")]
unsafe impl NSObjectProtocol for MPSGraphCompilationDescriptor {}

extern_methods!(
    #[cfg(feature = "MPSGraphCore")]
    unsafe impl MPSGraphCompilationDescriptor {
        #[method(disableTypeInference)]
        pub unsafe fn disableTypeInference(&self);

        #[method(optimizationLevel)]
        pub unsafe fn optimizationLevel(&self) -> MPSGraphOptimization;

        #[method(setOptimizationLevel:)]
        pub unsafe fn setOptimizationLevel(&self, optimization_level: MPSGraphOptimization);

        #[method(waitForCompilationCompletion)]
        pub unsafe fn waitForCompilationCompletion(&self) -> bool;

        #[method(setWaitForCompilationCompletion:)]
        pub unsafe fn setWaitForCompilationCompletion(&self, wait_for_compilation_completion: bool);

        #[cfg(all(feature = "MPSGraphExecutable", feature = "block2"))]
        #[method(compilationCompletionHandler)]
        pub unsafe fn compilationCompletionHandler(&self) -> MPSGraphCompilationCompletionHandler;

        #[cfg(all(feature = "MPSGraphExecutable", feature = "block2"))]
        #[method(setCompilationCompletionHandler:)]
        pub unsafe fn setCompilationCompletionHandler(
            &self,
            compilation_completion_handler: MPSGraphCompilationCompletionHandler,
        );

        #[deprecated]
        #[method(optimizationProfile)]
        pub unsafe fn optimizationProfile(&self) -> MPSGraphOptimizationProfile;

        #[deprecated]
        #[method(setOptimizationProfile:)]
        pub unsafe fn setOptimizationProfile(
            &self,
            optimization_profile: MPSGraphOptimizationProfile,
        );

        #[cfg(feature = "MPSGraphExecutable")]
        #[method_id(@__retain_semantics Other callables)]
        pub unsafe fn callables(&self) -> Option<Retained<MPSGraphCallableMap>>;

        #[cfg(feature = "MPSGraphExecutable")]
        #[method(setCallables:)]
        pub unsafe fn setCallables(&self, callables: Option<&MPSGraphCallableMap>);
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    #[cfg(feature = "MPSGraphCore")]
    unsafe impl MPSGraphCompilationDescriptor {
        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraphexecutiondescriptor?language=objc)
    #[unsafe(super(MPSGraphObject, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "MPSGraphCore")]
    pub struct MPSGraphExecutionDescriptor;
);

#[cfg(feature = "MPSGraphCore")]
unsafe impl NSObjectProtocol for MPSGraphExecutionDescriptor {}

extern_methods!(
    #[cfg(feature = "MPSGraphCore")]
    unsafe impl MPSGraphExecutionDescriptor {
        #[cfg(all(
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData",
            feature = "block2"
        ))]
        #[method(scheduledHandler)]
        pub unsafe fn scheduledHandler(&self) -> MPSGraphScheduledHandler;

        #[cfg(all(
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData",
            feature = "block2"
        ))]
        #[method(setScheduledHandler:)]
        pub unsafe fn setScheduledHandler(&self, scheduled_handler: MPSGraphScheduledHandler);

        #[cfg(all(
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData",
            feature = "block2"
        ))]
        #[method(completionHandler)]
        pub unsafe fn completionHandler(&self) -> MPSGraphCompletionHandler;

        #[cfg(all(
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData",
            feature = "block2"
        ))]
        #[method(setCompletionHandler:)]
        pub unsafe fn setCompletionHandler(&self, completion_handler: MPSGraphCompletionHandler);

        #[method(waitUntilCompleted)]
        pub unsafe fn waitUntilCompleted(&self) -> bool;

        #[method(setWaitUntilCompleted:)]
        pub unsafe fn setWaitUntilCompleted(&self, wait_until_completed: bool);

        #[method_id(@__retain_semantics Other compilationDescriptor)]
        pub unsafe fn compilationDescriptor(
            &self,
        ) -> Option<Retained<MPSGraphCompilationDescriptor>>;

        #[method(setCompilationDescriptor:)]
        pub unsafe fn setCompilationDescriptor(
            &self,
            compilation_descriptor: Option<&MPSGraphCompilationDescriptor>,
        );

        #[method(waitForEvent:value:)]
        pub unsafe fn waitForEvent_value(
            &self,
            event: &ProtocolObject<dyn MTLSharedEvent>,
            value: u64,
        );

        #[method(signalEvent:atExecutionEvent:value:)]
        pub unsafe fn signalEvent_atExecutionEvent_value(
            &self,
            event: &ProtocolObject<dyn MTLSharedEvent>,
            execution_stage: MPSGraphExecutionStage,
            value: u64,
        );
    }
);

extern_methods!(
    /// Methods declared on superclass `NSObject`
    #[cfg(feature = "MPSGraphCore")]
    unsafe impl MPSGraphExecutionDescriptor {
        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new() -> Retained<Self>;
    }
);

extern_class!(
    /// [Apple's documentation](https://developer.apple.com/documentation/metalperformanceshadersgraph/mpsgraph?language=objc)
    #[unsafe(super(MPSGraphObject, NSObject))]
    #[derive(Debug, PartialEq, Eq, Hash)]
    #[cfg(feature = "MPSGraphCore")]
    pub struct MPSGraph;
);

#[cfg(feature = "MPSGraphCore")]
unsafe impl NSObjectProtocol for MPSGraph {}

extern_methods!(
    #[cfg(feature = "MPSGraphCore")]
    unsafe impl MPSGraph {
        #[method(options)]
        pub unsafe fn options(&self) -> MPSGraphOptions;

        #[method(setOptions:)]
        pub unsafe fn setOptions(&self, options: MPSGraphOptions);

        #[method_id(@__retain_semantics New new)]
        pub unsafe fn new() -> Retained<Self>;

        #[method_id(@__retain_semantics Init init)]
        pub unsafe fn init(this: Allocated<Self>) -> Retained<Self>;

        #[cfg(feature = "MPSGraphTensor")]
        #[method_id(@__retain_semantics Other placeholderTensors)]
        pub unsafe fn placeholderTensors(&self) -> Retained<NSArray<MPSGraphTensor>>;

        #[cfg(all(
            feature = "MPSGraphDevice",
            feature = "MPSGraphExecutable",
            feature = "MPSGraphOperation",
            feature = "MPSGraphTensor"
        ))]
        #[method_id(@__retain_semantics Other compileWithDevice:feeds:targetTensors:targetOperations:compilationDescriptor:)]
        pub unsafe fn compileWithDevice_feeds_targetTensors_targetOperations_compilationDescriptor(
            &self,
            device: Option<&MPSGraphDevice>,
            feeds: &MPSGraphTensorShapedTypeDictionary,
            target_tensors: &NSArray<MPSGraphTensor>,
            target_operations: Option<&NSArray<MPSGraphOperation>>,
            compilation_descriptor: Option<&MPSGraphCompilationDescriptor>,
        ) -> Retained<MPSGraphExecutable>;

        #[cfg(all(
            feature = "MPSGraphOperation",
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData"
        ))]
        #[method_id(@__retain_semantics Other runWithFeeds:targetTensors:targetOperations:)]
        pub unsafe fn runWithFeeds_targetTensors_targetOperations(
            &self,
            feeds: &MPSGraphTensorDataDictionary,
            target_tensors: &NSArray<MPSGraphTensor>,
            target_operations: Option<&NSArray<MPSGraphOperation>>,
        ) -> Retained<MPSGraphTensorDataDictionary>;

        #[cfg(all(
            feature = "MPSGraphOperation",
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData"
        ))]
        #[method_id(@__retain_semantics Other runWithMTLCommandQueue:feeds:targetTensors:targetOperations:)]
        pub unsafe fn runWithMTLCommandQueue_feeds_targetTensors_targetOperations(
            &self,
            command_queue: &ProtocolObject<dyn MTLCommandQueue>,
            feeds: &MPSGraphTensorDataDictionary,
            target_tensors: &NSArray<MPSGraphTensor>,
            target_operations: Option<&NSArray<MPSGraphOperation>>,
        ) -> Retained<MPSGraphTensorDataDictionary>;

        #[cfg(all(
            feature = "MPSGraphOperation",
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData"
        ))]
        #[method(runWithMTLCommandQueue:feeds:targetOperations:resultsDictionary:)]
        pub unsafe fn runWithMTLCommandQueue_feeds_targetOperations_resultsDictionary(
            &self,
            command_queue: &ProtocolObject<dyn MTLCommandQueue>,
            feeds: &MPSGraphTensorDataDictionary,
            target_operations: Option<&NSArray<MPSGraphOperation>>,
            results_dictionary: &MPSGraphTensorDataDictionary,
        );

        #[cfg(all(
            feature = "MPSGraphOperation",
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData"
        ))]
        #[method_id(@__retain_semantics Other runAsyncWithFeeds:targetTensors:targetOperations:executionDescriptor:)]
        pub unsafe fn runAsyncWithFeeds_targetTensors_targetOperations_executionDescriptor(
            &self,
            feeds: &MPSGraphTensorDataDictionary,
            target_tensors: &NSArray<MPSGraphTensor>,
            target_operations: Option<&NSArray<MPSGraphOperation>>,
            execution_descriptor: Option<&MPSGraphExecutionDescriptor>,
        ) -> Retained<MPSGraphTensorDataDictionary>;

        #[cfg(all(
            feature = "MPSGraphOperation",
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData"
        ))]
        #[method_id(@__retain_semantics Other runAsyncWithMTLCommandQueue:feeds:targetTensors:targetOperations:executionDescriptor:)]
        pub unsafe fn runAsyncWithMTLCommandQueue_feeds_targetTensors_targetOperations_executionDescriptor(
            &self,
            command_queue: &ProtocolObject<dyn MTLCommandQueue>,
            feeds: &MPSGraphTensorDataDictionary,
            target_tensors: &NSArray<MPSGraphTensor>,
            target_operations: Option<&NSArray<MPSGraphOperation>>,
            execution_descriptor: Option<&MPSGraphExecutionDescriptor>,
        ) -> Retained<MPSGraphTensorDataDictionary>;

        #[cfg(all(
            feature = "MPSGraphOperation",
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData"
        ))]
        #[method(runAsyncWithMTLCommandQueue:feeds:targetOperations:resultsDictionary:executionDescriptor:)]
        pub unsafe fn runAsyncWithMTLCommandQueue_feeds_targetOperations_resultsDictionary_executionDescriptor(
            &self,
            command_queue: &ProtocolObject<dyn MTLCommandQueue>,
            feeds: &MPSGraphTensorDataDictionary,
            target_operations: Option<&NSArray<MPSGraphOperation>>,
            results_dictionary: &MPSGraphTensorDataDictionary,
            execution_descriptor: Option<&MPSGraphExecutionDescriptor>,
        );

        #[cfg(all(
            feature = "MPSGraphOperation",
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData",
            feature = "objc2-metal-performance-shaders"
        ))]
        #[method_id(@__retain_semantics Other encodeToCommandBuffer:feeds:targetTensors:targetOperations:executionDescriptor:)]
        pub unsafe fn encodeToCommandBuffer_feeds_targetTensors_targetOperations_executionDescriptor(
            &self,
            command_buffer: &MPSCommandBuffer,
            feeds: &MPSGraphTensorDataDictionary,
            target_tensors: &NSArray<MPSGraphTensor>,
            target_operations: Option<&NSArray<MPSGraphOperation>>,
            execution_descriptor: Option<&MPSGraphExecutionDescriptor>,
        ) -> Retained<MPSGraphTensorDataDictionary>;

        #[cfg(all(
            feature = "MPSGraphOperation",
            feature = "MPSGraphTensor",
            feature = "MPSGraphTensorData",
            feature = "objc2-metal-performance-shaders"
        ))]
        #[method(encodeToCommandBuffer:feeds:targetOperations:resultsDictionary:executionDescriptor:)]
        pub unsafe fn encodeToCommandBuffer_feeds_targetOperations_resultsDictionary_executionDescriptor(
            &self,
            command_buffer: &MPSCommandBuffer,
            feeds: &MPSGraphTensorDataDictionary,
            target_operations: Option<&NSArray<MPSGraphOperation>>,
            results_dictionary: &MPSGraphTensorDataDictionary,
            execution_descriptor: Option<&MPSGraphExecutionDescriptor>,
        );
    }
);
